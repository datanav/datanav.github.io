
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Self-hosted service &#8212; Sesam Documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Low-level debugging" href="low-level-debugging.html" />
    <link rel="prev" title="Automatic deployment" href="automatic-deployment.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="index.html">
  <img src="_static/sesamlogo.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="index-whatis.html">
  What is Sesam
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index-developer.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="index-learn.html">
  Learn
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="community.html">
  Community
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="legal.html">
  Legal
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference external nav-link" href="https://support.sesam.io">
  Support
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference external nav-link" href="https://portal.sesam.io">
  Login
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="quick-reference.html">
   Quick Reference
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="best-practices.html">
   Project kickstart
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="pre-planning.html">
     Planning a project
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="setup-environment.html">
     Setting up an environment
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sesam-dataflow.html">
     Creating a dataflow
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="developer-guide.html">
   Building blocks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="product-features.html">
   Features
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="DTLReferenceGuide.html">
   Data Transformation Language (DTL)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="patterns.html">
   Design patterns
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-synchronization.html">
   Data synchronization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="idempotency.html">
     Non-idempotency
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cron-expressions.html">
     Cron Expressions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="rdf-support.html">
     RDF support
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="json-pull.html">
     JSON Pull Protocol
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="json-push.html">
     JSON Push Protocol
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="extension-points.html">
     Developer Extension Points
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="source-datatype-mapping.html">
     Source datatype mapping
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-datamodelling.html">
   Data modelling
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="entitymodel.html">
     Entity Data Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="data-modelling.html">
     Data modelling
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-dataplatforms.html">
   Data platforms
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="azure.html">
     Sesam in Microsoft Azure
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index-operations.html">
   Operations
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="security.html">
     Security
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notifications.html">
     Notifications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="pump-execution.html">
     Pump Execution Dataset
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="project-workflow.html">
     Configuration Management
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="version-control-system.html">
       Using Sesam with a version control system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="testing-locally.html">
       Testing a Sesam configuration locally
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="continuous-integration.html">
       Continuous integration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="automatic-deployment.html">
       Automatic deployment
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Self-hosted service
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="low-level-debugging.html">
     Debugging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="behind-the-scenes.html">
     Behind the scenes
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="roadmap.html">
   Roadmap
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="tools.html">
   Tools
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="management-studio.html">
     Management Studio
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sesam-client.html">
     Sesam Client
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="gdpr-platform.html">
     GDPR platform
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-platform-configuration.html">
       Platform configuration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-data-types-purposes-configuration.html">
       Datatypes and purposes configuration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-data-access-portal.html">
       The GDPR data access portal
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-platform-developer-docs.html">
       Developer documentation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-getting-started.html">
       Getting started
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-changelog.html">
       Changelog
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="configuration.html">
   Service Configuration
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-general.html">
     General
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-variables.html">
     Environment variables and secrets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-metadata.html">
     Service metadata
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-pipes.html">
     Pipes
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="configuration-sources.html">
     Sources
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-dataset.html">
       Dataset source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-merge.html">
       Merge source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-union-datasets.html">
       Union datasets source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-merge-datasets.html">
       Merge datasets source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-diff-datasets.html">
       Diff datasets source (experimental)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-embedded.html">
       Embedded source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-sql.html">
       SQL source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-conditional.html">
       Conditional source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-csv.html">
       CSV source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-rdf.html">
       RDF source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-sdshare.html">
       SDShare source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-ldap.html">
       LDAP source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-json.html">
       JSON source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-empty.html">
       Empty source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-http.html">
       HTTP endpoint source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-sparql.html">
       SPARQL source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-rest.html">
       REST source (experimental)
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="configuration-transforms.html">
     Transforms
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-dtl.html">
       DTL transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-json-schema-validation.html">
       JSON Schema validation transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-conditional.html">
       Conditional transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-http.html">
       HTTP transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-emit-children.html">
       Emit children transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-xml.html">
       XML transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-rdf.html">
       RDF transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-rest.html">
       REST transform
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="configuration-sinks.html">
     Sinks
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-conditional.html">
       Conditional sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-dataset.html">
       Dataset sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-databrowser.html">
       Sesam Databrowser sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-json.html">
       JSON push sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sdshare.html">
       SDShare push sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sms.html">
       SMS message sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-solr.html">
       Solr sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-elasticsearch.html">
       Elasticsearch sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sparql.html">
       SPARQL sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sql.html">
       SQL sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-email.html">
       Email Message sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-null.html">
       Null sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-http.html">
       HTTP endpoint sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-csv.html">
       CSV endpoint sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-xml.html">
       XML endpoint sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-rest.html">
       REST sink
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="configuration-systems.html">
     Systems
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-sql.html">
       SQL systems
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-oracle.html">
       Oracle system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-oracle-tns.html">
       Oracle TNS system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-mssql-legacy.html">
       Legacy Microsoft SQL Server system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-mssql.html">
       Microsoft SQL Server system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-mysql.html">
       MySQL system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-postgresql.html">
       PostgreSQL system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-ldap.html">
       LDAP system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-smtp.html">
       SMTP system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-solr.html">
       Solr system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-elasticsearch.html">
       Elasticsearch system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-twilio.html">
       Twilio system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-url.html">
       URL system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-rest.html">
       REST system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-microservice.html">
       Microservice system
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-pump.html">
     Pumps
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="api.html">
   Service API
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="deprecations.html">
   Deprecated features
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="databrowser.html">
     Databrowser
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
    <label for="toctree-checkbox-15">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-guide.html">
       Databrowser Guide
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-auth.html">
       Authentication and authorization
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-api.html">
       Configuration file API
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="changelog.html">
   Changelog
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hardware-requirements">
   Hardware requirements
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#software-requirements">
   Software requirements
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#firewall-requirements">
   Firewall requirements
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#inbound-firewall-rules">
     Inbound firewall rules
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#outbound-firewall-rules">
     Outbound firewall rules
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installation">
   Installation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#file-structure">
     File structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#license-key">
     License Key
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#agent-configuration-file">
     Agent Configuration File
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install-the-agent">
     Install the Agent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bring-your-own-certificate">
     Bring your own certificate
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#migrate-an-old-installation-to-use-the-sesam-agent">
     Migrate an old installation to use the sesam-agent
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="self-hosted-service">
<span id="self-hosted"></span><h1>Self-hosted service<a class="headerlink" href="#self-hosted-service" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Sesam is offered as service that is either hosted for you in the cloud or you host it yourself. We generally recommend the former, but there are scenarios where you would want to host it yourself. This document explains the requirements and the installation steps necessary to get the single-machine Sesam service running in a self-hosted environment.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Self hosted subscriptions are required to run the latest image of their chosen <a class="reference external" href="https://docs.sesam.io/concepts.html#software-channels">software channel</a>.</p>
</div>
</div>
<div class="section" id="hardware-requirements">
<h2>Hardware requirements<a class="headerlink" href="#hardware-requirements" title="Permalink to this headline">¶</a></h2>
<p>We recommend setting up at least a machine with 4 CPUs, 16GB RAM and a 350GB data partition with fast storage depending on what needs you have.</p>
</div>
<div class="section" id="software-requirements">
<h2>Software requirements<a class="headerlink" href="#software-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Ubuntu &gt;= 18.04 or RHEL &gt;= 7. We prefer running Ubuntu if possible.</p></li>
<li><p>Python3</p></li>
<li><p>Sesam will install the <em>sesam-agent</em> which in turn will setup and configure docker.</p></li>
</ul>
</div>
<div class="section" id="firewall-requirements">
<h2>Firewall requirements<a class="headerlink" href="#firewall-requirements" title="Permalink to this headline">¶</a></h2>
<p>In general it is hard to be specific on IP addresses since most of these services are hosted on Content Delivery Networks (CDNs), which basically means that you have no guarantee that the IPs don’t change. If you don’t have a firewall that support wildcards and/or use of domain names, an option is to allow this access through a proxy.</p>
<div class="section" id="inbound-firewall-rules">
<span id="id1"></span><h3>Inbound firewall rules<a class="headerlink" href="#inbound-firewall-rules" title="Permalink to this headline">¶</a></h3>
<table class="colwidths-given table">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Port</p></th>
<th class="head"><p>Source</p></th>
<th class="head"><p>Destination</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>80/HTTP</p></td>
<td><p>ANY (Public)</p></td>
<td><p>Sesam IP</p></td>
<td><p>Sesam uses <a class="reference external" href="https://letsencrypt.org/">Let’s Encrypt</a> for SSL certificates. Letsencrypt requires port 80 to be open for incoming traffic from ANY (they don’t provide a list of src IPs)  to support renewal of certificates. If you want to bring your own certificate or use a self-signed this port opening can be skipped.</p></td>
</tr>
<tr class="row-odd"><td><p>443/HTTPS</p></td>
<td><p>Clients</p></td>
<td><p>Sesam IP</p></td>
<td><p>Any client that needs to connect to the sesam node api needs to have access to port 443 on the sesam-node IP. This does not need to happen over the internet and can be access given through local network/VPN or similar.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="outbound-firewall-rules">
<span id="self-hosted-outbound-firewall-rules"></span><h3>Outbound firewall rules<a class="headerlink" href="#outbound-firewall-rules" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>These outbound firewall rules must be active for the service to operate fully. Not opening the ports for the specified domains may violate the terms of service.</p>
</div>
<table class="colwidths-given table">
<colgroup>
<col style="width: 10%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Port</p></th>
<th class="head"><p>Source</p></th>
<th class="head"><p>Destination</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>443/HTTPS</p></td>
<td><p>Sesam IP</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*.docker.com</span></code>, <code class="docutils literal notranslate"><span class="pre">*.docker.io</span></code></p></td>
<td><p>The sesam-node needs access to docker HUB to pull and update images used by the sesam-node and microservices.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the outbound firewall is not open the service will not be able to self-update.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>443/HTTPS</p></td>
<td><p>Sesam IP</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*.letsencrypt.org</span></code></p></td>
<td><p>Only needed if certificates are managed by <a class="reference external" href="https://certbot.eff.org/">Certbot</a> / <a class="reference external" href="https://letsencrypt.org/">Let’s Encrypt</a> (see description on <a class="reference internal" href="#inbound-firewall-rules"><span class="std std-ref">inbound port 80</span></a>)</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the outbound firewall is not open the service will not be able to update its Let’s Encrypt TLS certificates.</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p>443/HTTPS</p></td>
<td><p>Sesam IP</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*.sesam.io</span></code>, <code class="docutils literal notranslate"><span class="pre">*.sesam.cloud</span></code></p></td>
<td><p>The sesam-node needs to communicate with several services hosted on these domains. These services include the sesam portal, log shipping, shipping metrics and sesam-agent updates.</p>
<p>More information on how monitoring works can be found <a class="reference internal" href="behind-the-scenes.html#monitoring"><span class="std std-ref">here</span></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the outbound firewall is not open the service will not be able to retrieve data from the Sesam portal, and it won’t be able to ship logs and metrics to Sesam. This will make notifications not work and it will break billing.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>443/HTTPS</p></td>
<td><p>Sesam IP</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">files.pythonhosted.org</span></code>, <code class="docutils literal notranslate"><span class="pre">pypi.org</span></code></p></td>
<td><p>The sesam-agent is a python program that has some dependencies on software that is hosted on <a class="reference external" href="https://pypi.org/">The Python Package Index (PyPI)</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the outbound firewall is not open the service will not be able to self-update.</p>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">*.sesam.io</span></code> and <code class="docutils literal notranslate"><span class="pre">*.sesam.cloud</span></code> can be replaced with IPs <code class="docutils literal notranslate"><span class="pre">137.116.234.60</span></code> and <code class="docutils literal notranslate"><span class="pre">52.142.116.113</span></code>. The former is for downloading and upgrading the agent, and the latter is for log shipping. We do not recommend doing this as these IPs are subject to change at any time.</p>
</div>
</div>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Before starting the setup you will  need:</p>
<ul class="simple">
<li><p>A subscription in the <a class="reference external" href="https://portal.sesam.io">Sesam portal</a></p></li>
<li><p>A license key</p></li>
<li><p>A docker repository login (provided by Sesam support)</p></li>
<li><p>A sesam-agent config (example below)</p></li>
</ul>
<div class="section" id="file-structure">
<span id="self-hosted-file-structure"></span><h3>File structure<a class="headerlink" href="#file-structure" title="Permalink to this headline">¶</a></h3>
<p>These steps assume that your datadisk is mounted at /srv/data.
If you want your data stored on the root-disk directly, just create the datafolder /sesam/node-00/data and skip the symbolic link.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">srv</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">sesam</span><span class="o">/</span><span class="n">node</span><span class="o">-</span><span class="mi">00</span><span class="o">/</span><span class="n">data</span>
<span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">sesam</span><span class="o">/</span><span class="n">node</span><span class="o">-</span><span class="mi">00</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">srv</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">sesam</span><span class="o">/</span><span class="n">node</span><span class="o">-</span><span class="mi">00</span><span class="o">/</span><span class="n">data</span> <span class="o">/</span><span class="n">sesam</span><span class="o">/</span><span class="n">node</span><span class="o">-</span><span class="mi">00</span><span class="o">/</span><span class="n">data</span>
<span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">sesam</span><span class="o">-</span><span class="n">agent</span>
</pre></div>
</div>
</div>
<div class="section" id="license-key">
<h3>License Key<a class="headerlink" href="#license-key" title="Permalink to this headline">¶</a></h3>
<p>Sesam requires a valid license to function. Without a valid license the pipes will stop running. Instructions for obtaining a valid license key can be found in the <a class="reference external" href="https://portal.sesam.io/">Sesam Portal</a>. Save the license key to the <code class="docutils literal notranslate"><span class="pre">/srv/data/sesam/node-00/data/license.key</span></code> file.</p>
</div>
<div class="section" id="agent-configuration-file">
<h3>Agent Configuration File<a class="headerlink" href="#agent-configuration-file" title="Permalink to this headline">¶</a></h3>
<p>Example config file (must be located at /etc/sesam-agent/config.json)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;docker_username&quot;</span><span class="p">:</span> <span class="s2">&quot;sesamonprem&quot;</span><span class="p">,</span>
  <span class="s2">&quot;docker_password&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;TOKEN&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;nginx&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;disable&quot;</span><span class="p">:</span> <span class="n">false</span>
  <span class="p">},</span>
  <span class="s2">&quot;sesam-node&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="s2">&quot;--sesam-portal-url https://portal.sesam.io/ --redirect-portal-gui 1 -b /sesam/data/backup --backup-use-checkpoints &quot;</span><span class="p">,</span>
    <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;weekly-prod&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="install-the-agent">
<span id="self-hosted-install-the-agent"></span><h3>Install the Agent<a class="headerlink" href="#install-the-agent" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">downloads</span><span class="o">.</span><span class="n">sesam</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">agent</span><span class="o">/</span><span class="n">sesam</span><span class="o">-</span><span class="n">agent</span> <span class="o">-</span><span class="n">O</span> <span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">sesam</span><span class="o">-</span><span class="n">agent</span>
<span class="n">sudo</span> <span class="n">chmod</span> <span class="o">+</span><span class="n">x</span> <span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">sesam</span><span class="o">-</span><span class="n">agent</span>
<span class="n">sudo</span> <span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">sesam</span><span class="o">-</span><span class="n">agent</span> <span class="n">install</span>
<span class="n">sudo</span> <span class="o">/</span><span class="n">sbin</span><span class="o">/</span><span class="n">sesam</span><span class="o">-</span><span class="n">agent</span> <span class="n">start</span>
</pre></div>
</div>
<p>Log in to <a class="reference external" href="https://portal.sesam.io">Sesam portal</a> and add your sesam-node URL to the connection under the network tab and finally upload the license.</p>
</div>
<div class="section" id="bring-your-own-certificate">
<h3>Bring your own certificate<a class="headerlink" href="#bring-your-own-certificate" title="Permalink to this headline">¶</a></h3>
<p>In order to serve the node with your own certificate you will need a valid password-less KEY and a cert in PEM format. If your certificate is password protected you can remove the password with openssl or equivalent tools.</p>
<p>Give your cert and key a name and place them in the <code class="docutils literal notranslate"><span class="pre">/sesam/nginx/conf/ssl</span></code> folder (<code class="docutils literal notranslate"><span class="pre">privkey.pem</span></code> and <code class="docutils literal notranslate"><span class="pre">fullchain.pem</span></code> in this example).</p>
<p>Update the Sesam configuration file (<code class="docutils literal notranslate"><span class="pre">/etc/sesam-agent/config.json</span></code>) to include the path to the keys in the nginx section:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;nginx&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;ssl_cert&quot;</span><span class="p">:</span> <span class="s2">&quot;/etc/nginx/includes.d/ssl/fullchain.pem&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ssl_key&quot;</span><span class="p">:</span> <span class="s2">&quot;/etc/nginx/includes.d/ssl/privkey.pem&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Restart nginx for things to take effect:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">restart</span> <span class="n">nginx</span>
</pre></div>
</div>
</div>
<div class="section" id="migrate-an-old-installation-to-use-the-sesam-agent">
<h3>Migrate an old installation to use the sesam-agent<a class="headerlink" href="#migrate-an-old-installation-to-use-the-sesam-agent" title="Permalink to this headline">¶</a></h3>
<p>Be sure to back up your data before proceeding. Before <a class="reference internal" href="#self-hosted-install-the-agent"><span class="std std-ref">Install the Agent</span></a> section you must make sure you have done the following:</p>
<ul class="simple">
<li><p>Stop and remove all running containers.</p></li>
<li><p>Copy or move the current store folder and license to the location configured under <a class="reference internal" href="#self-hosted-file-structure"><span class="std std-ref">File structure</span></a>.</p></li>
</ul>
</div>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="automatic-deployment.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Automatic deployment</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="low-level-debugging.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Low-level debugging</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022 Sesam.io AS.<br>
</p>
    </div>
    
  </div>
</footer>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZDKEJY06V9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZDKEJY06V9');
</script>
<!-- Start of HubSpot Embed Code -->
  <script type="text/javascript" id="hs-script-loader" async defer src="https://js.hs-scripts.com/19709964.js"></script>
<!-- End of HubSpot Embed Code -->

  </body>
</html>
<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="JSON Pull Protocol" href="json-pull.html" /><link rel="prev" title="Service API" href="api.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.02.14.1"/>
        <title>Developer Extension Points - Docs</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=a8f031f701c6af50c9919b48f173a5785af06fac" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=25ceb02ed1c46dc30f2321ff83e92799f69dfdb9" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     This is a preview of the restructured Sesam Documenantation site. For production go to <a href="https://docs.sesam.io">docs.sesam.io</a> 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Docs</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/sesamlogo.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="core-principles.html">Core principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Key features</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="best-practices.html">Best Practices</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="pre-planning.html">Planning a Sesam project</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup-environment.html">Setting up a Sesam environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="collecting_data.html">Collect</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-enrichment.html">Enrichment</a></li>
<li class="toctree-l2"><a class="reference internal" href="connecting-data.html">Connect</a></li>
<li class="toctree-l2"><a class="reference internal" href="transform-data.html">Transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="sharing-data.html">Sharing data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick-reference.html">Quick Reference</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="developer-guide.html">Developer Guide</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Service Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="entitymodel.html">Entity Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="DTLReferenceGuide.html">Data Transformation Language (DTL)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">Service API</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Developer Extension Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="json-pull.html">JSON Pull Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="json-push.html">JSON Push Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="pump-execution.html">Pump Execution Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="cron-expressions.html">Cron Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="rdf-support.html">RDF support</a></li>
<li class="toctree-l2"><a class="reference internal" href="idempotency.html">Non-idempotency</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="notifications.html">Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="low-level-debugging.html">Low-level debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="source-datatype-mapping.html">Source datatype mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="self-hosted.html">Self-hosted service</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-modelling.html">Data modelling in Sesam</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="project-workflow.html">Working on a Sesam project</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="version-control-system.html">Using Sesam with a version control system</a></li>
<li class="toctree-l3"><a class="reference internal" href="testing-locally.html">Testing a Sesam configuration locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="continuous-integration.html">Continuous integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="automatic-deployment.html">Automatic deployment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="azure.html">Sesam in Microsoft Azure</a></li>
<li class="toctree-l2"><a class="reference internal" href="deprecations.html">Deprecated features</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tools.html">Tools</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="management-studio.html">Management Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="sesam-client.html">Sesam Client</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="databrowser.html">Databrowser</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="databrowser-guide.html">Databrowser Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="databrowser-auth.html">Authentication and authorization</a></li>
<li class="toctree-l3"><a class="reference internal" href="databrowser-api.html">Configuration file API</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="gdpr-platform.html">GDPR platform</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="gdpr-platform-configuration.html">Platform configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdpr-data-types-purposes-configuration.html">Datatypes and purposes configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdpr-data-access-portal.html">The GDPR data access portal</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdpr-platform-developer-docs.html">Developer documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdpr-getting-started.html">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdpr-changelog.html">Changelog</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="behind-the-scenes.html">Behind the scenes</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="legal.html">Legal</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="terms.html">Terms of Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="legal-service.html">Description of the Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="pricing.html">Subscription Fee, payment terms</a></li>
<li class="toctree-l2"><a class="reference internal" href="legal-dap.html">Data Process Agreement</a></li>
<li class="toctree-l2"><a class="reference internal" href="partner-agreement.html">Partner Agreement</a></li>
<li class="toctree-l2"><a class="reference internal" href="privacy-policy.html">Privacy Policy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="developer-extension-points">
<h1>Developer Extension Points<a class="headerlink" href="#developer-extension-points" title="Permalink to this headline">#</a></h1>
<p>There are many native Sesam components for collecting, transforming and using data. Sometimes however, there may be
custom <a class="reference internal" href="configuration.html#source-section"><span class="std std-ref">data sources</span></a>, <a class="reference internal" href="configuration.html#transform-section"><span class="std std-ref">transforms</span></a> and <a class="reference internal" href="configuration.html#sink-section"><span class="std std-ref">sinks</span></a> that
are needed. To help in these situations there are well defined patterns and integration points that can be used.</p>
<p>Integration is done through standardised RESTful protocols. Services supporting these protocols can be built as
micro-services that can be easily connected to Sesam.</p>
<p>As well as writing services from scratch there are also a number of starter service implementations that can be copied
and changed. These are open source and can be cloned from the Sesam open source repository.</p>
<div class="section" id="creating-a-custom-data-source">
<h2>Creating a Custom Data Source<a class="headerlink" href="#creating-a-custom-data-source" title="Permalink to this headline">#</a></h2>
<p>A data source service is one that exposes data from an existing system as a stream of JSON objects over HTTP.
Data from the custom service can easily be consumed and written into a Dataset.</p>
<p>The basic requirements on the custom service are very simple. The service must expose a single resource that returns all
the data from the underlying system as a stream of JSON objects. Optionally, and it is recommended that this is
implemented, the resource can accept a single query parameter called ‘’since’’. This is a token that can be used by the
service to only return entities that have changed on or later than indicated in the since token.</p>
<p>The JSON objects (in Sesam called an <a class="reference internal" href="entitymodel.html"><span class="doc">entity</span></a>) produced by the source must also adhere to a few
simple rules:</p>
<blockquote>
<div><ul class="simple">
<li><p>Entities MUST have an ‘_id’ property.</p></li>
<li><p>Entities MAY have an ‘_deleted’ property. It defaults to false if ommitted.</p></li>
<li><p>Entities MAY have an ‘_updated’ property. If present this will be used when Sesam invokes the since parameter on subsequent calls.</p></li>
<li><p>Any other properties starting with ‘_’ are reserved and will not be stored in Sesam.</p></li>
</ul>
</div></blockquote>
<p>Here is an example entity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"_id"</span> <span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="s2">"_deleted"</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_updated"</span> <span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and another one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"_id"</span> <span class="p">:</span> <span class="s2">"e-8786763"</span><span class="p">,</span>
    <span class="s2">"_deleted"</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_updated"</span> <span class="p">:</span> <span class="s2">"2016-03-03T00:00:00Z"</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A response must expose the entities as a JSON array. The following is a simple example of this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"_id"</span> <span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
        <span class="s2">"_deleted"</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">"_updated"</span> <span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>

    <span class="p">{</span>
        <span class="s2">"_id"</span> <span class="p">:</span> <span class="s2">"2"</span><span class="p">,</span>
        <span class="s2">"_deleted"</span> <span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">"_updated"</span> <span class="p">:</span> <span class="mi">1</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The service can be run anywhere providing that it can be contacted over HTTP from the Sesam Service. To configure Sesam
to consume the feed into a dataset in Sesam the following sytem and pipe configuration can be used.</p>
<p>The configuration defines a <a class="reference internal" href="configuration.html#url-system"><span class="std std-ref">URL system</span></a> for the remote service. This specifies the <code class="docutils literal notranslate"><span class="pre">base_url</span></code> of
the service. This is helpful if the service is serving several different collections of data. Then if the service moves
the base url can be updated in just one place.</p>
<p>The pipe is defined as just a simple <code class="docutils literal notranslate"><span class="pre">json</span></code> pipe. It expects a resource containing JSON data packed in a JSON array.
Note that in the example below we have set <code class="docutils literal notranslate"><span class="pre">supports_since</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"custom-remote-service"</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"custom remote service"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"system:url"</span><span class="p">,</span>
    <span class="s2">"base_url"</span><span class="p">:</span> <span class="s2">"http://localhost:5000/api/"</span>
<span class="p">},</span>

<span class="p">{</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"custom-datasource-to-dataset"</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Custom Data Source into Hub"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"pipe"</span><span class="p">,</span>

    <span class="s2">"source"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
        <span class="s2">"system"</span><span class="p">:</span> <span class="s2">"custom-remote-service"</span><span class="p">,</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"custom-json-source"</span><span class="p">,</span>
        <span class="s2">"supports_since"</span> <span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="p">:</span> <span class="s2">"entities"</span>
    <span class="p">},</span>

    <span class="s2">"sink"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"dataset"</span><span class="p">,</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"remote-objects-dataset"</span><span class="p">,</span>
        <span class="s2">"dataset"</span><span class="p">:</span> <span class="s2">"Custom:Objects"</span>
    <span class="p">},</span>

    <span class="s2">"pump"</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"datasync"</span><span class="p">,</span>
       <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"custom-datasource-to-dataset-pump"</span><span class="p">,</span>
       <span class="s2">"schedule_interval"</span><span class="p">:</span> <span class="mi">5</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To help write data source components a set of starter templates have been created for several languages. Each template
comes with a runnable service that exposes a simple set of in-memory objects as JSON using the protocol described above.
Each service also comes with a <a class="reference external" href="https://www.docker.com/">Dockerfile</a> to allow quick packaging and deployment of the
custom service alongside Sesam.</p>
<p>The templates that are relevant to building new data sources are:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference external" href="https://github.com/sesam-io/aspnet-datasource-template">ASP.NET template</a>.  This template uses ASP.NET 1.0 and .NET Core 1.0, and is fully cross platform.</p></li>
<li><p>The <a class="reference external" href="https://github.com/sesam-io/python-datasource-template">Python template</a>. Requires Python 3 and uses the <a class="reference external" href="http://flask.pocoo.org">Flask</a> framework.</p></li>
<li><p>The <a class="reference external" href="https://github.com/sesam-io/java-datasource-template">Java template</a>. Requires Java 8 and uses the <a class="reference external" href="http://sparkjava.com/">Spark</a> micro framework.</p></li>
<li><p>The <a class="reference external" href="https://github.com/sesam-io/nodejs-datasource-template">NodeJS template</a>. Requires NodeJS v4 or later.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="pushing-data-into-the-hub">
<h2>Pushing Data Into The Hub<a class="headerlink" href="#pushing-data-into-the-hub" title="Permalink to this headline">#</a></h2>
<p>An alternative to getting Sesam to pull data is that a client can also push data to the hub. The steps for doing this
are quite straight forward.</p>
<p>The first step is to define a push receiver endpoint in Sesam. The <a class="reference internal" href="configuration.html#http-endpoint-source"><span class="std std-ref">HTTP Endpoint Source</span></a>
should be configured to allow the custom service to push JSON data to Sesam. This endpoint supports the <a class="reference internal" href="json-push.html"><span class="doc">JSON push protocol</span></a>.</p>
<p>An examples would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"my-endpoint"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"pipe"</span><span class="p">,</span>
    <span class="s2">"source"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"http_endpoint"</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The the following URL can be used as an endpoint to receive JSON according to the <a class="reference internal" href="json-push.html"><span class="doc">JSON push protocol</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">9042</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">receivers</span><span class="o">/</span><span class="n">my</span><span class="o">-</span><span class="n">endpoint</span><span class="o">/</span><span class="n">entities</span>
</pre></div>
</div>
<p>Once this is configured any custom code, event handler, or queue reader can post data to Sesam. The data will be stored
into a dataset called ‘my-endpoint’.</p>
</div>
<div class="section" id="creating-a-custom-transform">
<h2>Creating a Custom Transform<a class="headerlink" href="#creating-a-custom-transform" title="Permalink to this headline">#</a></h2>
<p><a class="reference internal" href="configuration.html#dtl-transform"><span class="std std-ref">DTL</span></a> and the other <a class="reference internal" href="configuration.html#transform-section"><span class="std std-ref">transform types</span></a> provide support for the majority
of data transformation uses cases. However, there are times when a special kind of transform needs to be performed.
Typically, this is a transform where some external service should be contacted in order to convert a value. In these
cases it is possible to develop a micro-service that can be called synchronously from the transform pipeline.</p>
<p>The custom transform is configured as an <a class="reference internal" href="configuration.html#http-transform"><span class="std std-ref">HTTP transform</span></a>. This is defined as part of the
transformation pipeline of a <a class="reference internal" href="configuration.html#pipe-section"><span class="std std-ref">pipe</span></a>.</p>
<p>The service that data is sent to as part of this transform is where the custom code should reside. To help build these
transforms template projects for common languages are provided.</p>
<p>The following templates are available:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference external" href="https://github.com/sesam-io/python-transform-template">Python template</a>. Requires Python 3 and uses the <a class="reference external" href="http://flask.pocoo.org">Flask</a> framework.</p></li>
</ul>
</div></blockquote>
<p>The transform will stream an array of JSON objects to the registered endpoint and expect back a list of entities.</p>
<p>The result of the HTTP transform is passed along the transformation pipeline and into the sink.</p>
</div>
<div class="section" id="creating-a-custom-data-sink">
<h2>Creating a Custom Data Sink<a class="headerlink" href="#creating-a-custom-data-sink" title="Permalink to this headline">#</a></h2>
<p>The last extension point is the ability to create custom sinks. These are not sinks that run in the Sesam service but
are micro-services to which a generic JSON push sink can send data.</p>
<p>To set up a custom sink a micro-service that implements the <a class="reference internal" href="json-push.html"><span class="doc">JSON push protocol</span></a> should be
developed and running.</p>
<p>Once this is running it is possible to define a pipe in Sesam where the sink is a <a class="reference internal" href="configuration.html#json-sink"><span class="std std-ref">JSON Push Sink</span></a>.
All data read from the pipe will be pushed to the sink.</p>
<p>Sinks can be used to sit in front of legacy systems for no Sesam adaptor exists. The main job of these sinks is to make
the legacy system appear to be idempotent.</p>
<p>To help build these transforms template projects for common languages are provided.</p>
<p>The following templates are available:</p>
<blockquote>
<div><ul class="simple">
<li><p>The <a class="reference external" href="https://github.com/sesam-io/aspnet-datasink-template">ASP.NET template</a>.  This template uses ASP.NET 1.0 and .NET Core 1.0, and is fully cross platform.</p></li>
<li><p>The <a class="reference external" href="https://github.com/sesam-io/python-datasink-template">Python template</a>. Requires Python 3 and uses the <a class="reference external" href="http://flask.pocoo.org">Flask</a> framework.</p></li>
</ul>
</div></blockquote>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="json-pull.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">JSON Pull Protocol</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="api.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Service API</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022 Sesam.io AS
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Developer Extension Points</a><ul>
<li><a class="reference internal" href="#creating-a-custom-data-source">Creating a Custom Data Source</a></li>
<li><a class="reference internal" href="#pushing-data-into-the-hub">Pushing Data Into The Hub</a></li>
<li><a class="reference internal" href="#creating-a-custom-transform">Creating a Custom Transform</a></li>
<li><a class="reference internal" href="#creating-a-custom-data-sink">Creating a Custom Data Sink</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>
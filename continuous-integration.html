
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Continuous integration (CI) &#8212; Sesam Documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Automatic deployment" href="automatic-deployment.html" />
    <link rel="prev" title="Testing a Sesam configuration locally" href="testing-locally.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="index.html">
  <img src="_static/sesamlogo.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="index-whatis.html">
  What is Sesam
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index-developer.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="index-learn.html">
  Learn
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="community.html">
  Community
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="legal.html">
  Legal
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference external nav-link" href="https://support.sesam.io">
  Support
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference external nav-link" href="https://portal.sesam.io">
  Login
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="quick-reference.html">
   Quick Reference
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="best-practices.html">
   Project kickstart
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="pre-planning.html">
     Planning a project
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="setup-environment.html">
     Setting up an environment
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sesam-dataflow.html">
     Creating a dataflow
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="developer-guide.html">
   Building blocks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="product-features.html">
   Features
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="DTLReferenceGuide.html">
   Data Transformation Language (DTL)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="patterns.html">
   Design patterns
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-synchronization.html">
   Data synchronization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="idempotency.html">
     Non-idempotency
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cron-expressions.html">
     Cron Expressions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="rdf-support.html">
     RDF support
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="json-pull.html">
     JSON Pull Protocol
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="json-push.html">
     JSON Push Protocol
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="extension-points.html">
     Developer Extension Points
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="source-datatype-mapping.html">
     Source datatype mapping
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-datamodelling.html">
   Data modelling
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="entitymodel.html">
     Entity Data Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="data-modelling.html">
     Data modelling
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-dataplatforms.html">
   Data platforms
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="azure.html">
     Sesam in Microsoft Azure
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index-operations.html">
   Operations
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="security.html">
     Security
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notifications.html">
     Notifications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="pump-execution.html">
     Pump Execution Dataset
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="project-workflow.html">
     Configuration Management
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="version-control-system.html">
       Using Sesam with a version control system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="testing-locally.html">
       Testing a Sesam configuration locally
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Continuous integration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="automatic-deployment.html">
       Automatic deployment
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="self-hosted.html">
     Self-hosted service
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="low-level-debugging.html">
     Debugging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="behind-the-scenes.html">
     Behind the scenes
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="roadmap.html">
   Roadmap
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="tools.html">
   Tools
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="management-studio.html">
     Management Studio
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sesam-client.html">
     Sesam Client
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="gdpr-platform.html">
     GDPR platform
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-platform-configuration.html">
       Platform configuration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-data-types-purposes-configuration.html">
       Datatypes and purposes configuration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-data-access-portal.html">
       The GDPR data access portal
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-platform-developer-docs.html">
       Developer documentation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-getting-started.html">
       Getting started
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-changelog.html">
       Changelog
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="configuration.html">
   Service Configuration
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-general.html">
     General
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-variables.html">
     Environment variables and secrets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-metadata.html">
     Service metadata
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-pipes.html">
     Pipes
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="configuration-sources.html">
     Sources
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-dataset.html">
       Dataset source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-merge.html">
       Merge source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-union-datasets.html">
       Union datasets source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-merge-datasets.html">
       Merge datasets source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-diff-datasets.html">
       Diff datasets source (experimental)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-embedded.html">
       Embedded source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-sql.html">
       SQL source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-conditional.html">
       Conditional source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-csv.html">
       CSV source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-rdf.html">
       RDF source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-sdshare.html">
       SDShare source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-ldap.html">
       LDAP source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-json.html">
       JSON source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-empty.html">
       Empty source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-http.html">
       HTTP endpoint source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-sparql.html">
       SPARQL source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-rest.html">
       REST source (experimental)
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="configuration-transforms.html">
     Transforms
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-dtl.html">
       DTL transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-json-schema-validation.html">
       JSON Schema validation transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-conditional.html">
       Conditional transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-http.html">
       HTTP transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-emit-children.html">
       Emit children transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-xml.html">
       XML transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-rdf.html">
       RDF transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-rest.html">
       REST transform
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="configuration-sinks.html">
     Sinks
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-conditional.html">
       Conditional sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-dataset.html">
       Dataset sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-databrowser.html">
       Sesam Databrowser sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-json.html">
       JSON push sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sdshare.html">
       SDShare push sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sms.html">
       SMS message sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-solr.html">
       Solr sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-elasticsearch.html">
       Elasticsearch sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sparql.html">
       SPARQL sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sql.html">
       SQL sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-email.html">
       Email Message sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-null.html">
       Null sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-http.html">
       HTTP endpoint sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-csv.html">
       CSV endpoint sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-xml.html">
       XML endpoint sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-rest.html">
       REST sink
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="configuration-systems.html">
     Systems
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-sql.html">
       SQL systems
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-oracle.html">
       Oracle system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-oracle-tns.html">
       Oracle TNS system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-mssql-legacy.html">
       Legacy Microsoft SQL Server system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-mssql.html">
       Microsoft SQL Server system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-mysql.html">
       MySQL system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-postgresql.html">
       PostgreSQL system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-ldap.html">
       LDAP system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-smtp.html">
       SMTP system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-solr.html">
       Solr system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-elasticsearch.html">
       Elasticsearch system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-twilio.html">
       Twilio system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-url.html">
       URL system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-rest.html">
       REST system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-microservice.html">
       Microservice system
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-pump.html">
     Pumps
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="api.html">
   Service API
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="deprecations.html">
   Deprecated features
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="databrowser.html">
     Databrowser
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
    <label for="toctree-checkbox-15">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-guide.html">
       Databrowser Guide
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-auth.html">
       Authentication and authorization
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-api.html">
       Configuration file API
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="changelog.html">
   Changelog
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ci-node">
   CI node
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-jenkins-or-azure-devops-for-automatic-ci-testing">
   Using Jenkins or Azure DevOps for automatic CI testing
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#jenkins">
     Jenkins
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#azure-devops">
     Azure DevOps
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="continuous-integration-ci">
<span id="setup-ci"></span><h1>Continuous integration (CI)<a class="headerlink" href="#continuous-integration-ci" title="Permalink to this headline">¶</a></h1>
<p>When adding new pipes to your existing Sesam configuration, it is important to verify that these doesn’t break any existing pipes, flows or integrations in your Sesam node. To do this you should add automatic tests to your project. In order to fully be able to have automated CI testing it is required to have a designated CI node.</p>
<p>When setting up automatic CI testing for a Sesam project, the following check should be required for the test to pass:</p>
<ul class="simple">
<li><p>Running, validating and passing a test of the configuration against the CI node.</p></li>
</ul>
<p>In addition you should consider adding a check that requires that pull requests (PR) needs to be approved by another member of the team in order for the PR to be merged.</p>
<div class="section" id="ci-node">
<h2>CI node<a class="headerlink" href="#ci-node" title="Permalink to this headline">¶</a></h2>
<p>In order to be able to test your Sesam configuration across the project team, you need to have a CI node. The sole purpose of this node is to provide a Sesam environment to test changes to the configuration against. Tests will be run in the same way as you will test your configuration locally, except that it should be initiated from your automatic CI testing system instead.</p>
<p>It is important that when running testing against the CI node, only one test should run at the same time. When running a test against a CI node with the Sesam client, the configuration will be overwritten, which will cause a running test to fail or not to finish. Setting up your automatic CI testing, you need to have this in mind.</p>
<p>The CI node should be unable to write any data to another system, bear this in mind when configuring up the node. As the least safety regarding this, the node should not contain any variables or secrets necessary to connect to a system that the Sesam configuration usually will send data to.</p>
<p>Usually, the CI node should be a smaller instance than the production node, as the data used in the tests should not be of a considerable size.</p>
</div>
<div class="section" id="using-jenkins-or-azure-devops-for-automatic-ci-testing">
<h2>Using Jenkins or Azure DevOps for automatic CI testing<a class="headerlink" href="#using-jenkins-or-azure-devops-for-automatic-ci-testing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="jenkins">
<h3>Jenkins<a class="headerlink" href="#jenkins" title="Permalink to this headline">¶</a></h3>
<p>This section describes how to set up Jenkins build with Google Cloud.</p>
<p>Jenkins is a CI/CD tool that does not immediately support a single build pipeline. The reason for the need of a single build pipeline is that we upload the node config to a single node, if there are mulitple builds running at the same time, multiple configs will be pushed to one node, which will result in tests not completing. You should therefore consider the following, if choosing to use Jenkins as your CI/CD tool.</p>
<p>To set up builds in jenkins, you will need to add a few files to your repository
my-project-directory</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>my-project-directory
  ├ deployment
  | ├ jenkins
  | | └ jobs
  | |   └ build
  | |     ├ dm-pod.yaml
  | |     └ Jenkinsfile
  | └ sesam
  |   ├ cloudbuild.yaml
  |   ├ Dockerfile
  |   └ Readme.md
  ├ node
  | └ ++
  └ ++
</pre></div>
</div>
<p>dm-pod.yaml:</p>
<p>Describes what type of container that should be used in the build process.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apiVersion</span><span class="p">:</span> <span class="n">v1</span>
<span class="n">kind</span><span class="p">:</span> <span class="n">Pod</span>
<span class="n">spec</span><span class="p">:</span>

  <span class="n">containers</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">sesam</span><span class="o">-</span><span class="n">ci</span><span class="o">-</span><span class="n">container</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">eu</span><span class="o">.</span><span class="n">gcr</span><span class="o">.</span><span class="n">io</span><span class="o">/&lt;</span><span class="n">your_gcr_repo</span><span class="o">&gt;/</span><span class="n">sesam</span><span class="p">:</span><span class="o">&lt;</span><span class="n">version_of_sesam_client</span><span class="o">&gt;</span>
    <span class="n">tty</span><span class="p">:</span> <span class="n">true</span>
    <span class="n">command</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">cat</span>
    <span class="n">resources</span><span class="p">:</span>
      <span class="n">limits</span><span class="p">:</span>
        <span class="n">memory</span><span class="p">:</span> <span class="mi">6</span><span class="n">Gi</span>
        <span class="n">cpu</span><span class="p">:</span> <span class="mf">1.7</span>
</pre></div>
</div>
<p>Jenkinsfile:</p>
<p>The Jenkinsfile contains the stages that are supposed to run when the tests are running. The three default stages are:</p>
<ul class="simple">
<li><p>Set environment variables for container</p></li>
<li><p>Verify usage of correct Sesam client version.</p></li>
<li><p>Running the tests and printing scheduler logs to see error messages in output.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ch">#!groovy</span>

<span class="n">pipeline</span> <span class="p">{</span>
    <span class="n">options</span> <span class="p">{</span>
        <span class="n">disableConcurrentBuilds</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="n">agent</span> <span class="p">{</span>
        <span class="n">kubernetes</span> <span class="p">{</span>
            <span class="n">label</span> <span class="s2">&quot;dm-$</span><span class="si">{BRANCH_NAME}</span><span class="s2">-$</span><span class="si">{BUILD_ID}</span><span class="s2">&quot;</span>
            <span class="n">defaultContainer</span> <span class="s1">&#39;jnlp&#39;</span>
            <span class="n">yamlFile</span> <span class="s1">&#39;deployment/jenkins/jobs/build/dm-pod.yaml&#39;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">environment</span> <span class="p">{</span>
        <span class="n">Sesam_CI_node_jwt</span> <span class="o">=</span> <span class="n">credentials</span><span class="p">(</span><span class="s1">&#39;Sesam_CI_node_jwt&#39;</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="n">stages</span> <span class="p">{</span>
        <span class="n">stage</span><span class="p">(</span><span class="s1">&#39;Set Sesam env vars&#39;</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">steps</span> <span class="p">{</span>
                <span class="n">script</span> <span class="p">{</span>
                    <span class="n">env</span><span class="o">.</span><span class="n">Sesam_CI_node</span> <span class="o">=</span> <span class="s2">&quot;datahub-****.sesam.cloud&quot;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">stage</span><span class="p">(</span><span class="s2">&quot;Verify Sesam version&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">steps</span> <span class="p">{</span>
                <span class="nb">dir</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">container</span><span class="p">(</span><span class="s1">&#39;sesam-ci-container&#39;</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">sh</span> <span class="s2">&quot;/./sesam -version&quot;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">stage</span><span class="p">(</span><span class="s2">&quot;Run Sesam tests&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">steps</span> <span class="p">{</span>
                <span class="nb">dir</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="n">container</span><span class="p">(</span><span class="s1">&#39;sesam-ci-container&#39;</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">sh</span> <span class="s2">&quot;export NODE=&#39;$</span><span class="si">{env.Sesam_CI_node}</span><span class="s2">&#39;; export JWT=&#39;$Sesam_CI_node_jwt&#39;; cd node &amp;&amp; /./sesam -vv test  -print-scheduler-log&quot;</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The files under the sesam folder here describes the files that should exist in the repository where jenkins is configured. Usually you do not have access to this repository, but you will need to provide these files.</p>
<p>cloudbuild.yaml:</p>
<p>cloudbuild.yaml A build config file defines the fields that are needed for Cloud Build to perform your tasks. You’ll need a build config file if you are starting builds using the gcloud command-line tool or build triggers. You can write the build config file using the YAML or the JSON syntax.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">steps</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;gcr.io/cloud-builders/docker&#39;</span>
    <span class="n">args</span><span class="p">:</span> <span class="p">[</span>
      <span class="s1">&#39;build&#39;</span><span class="p">,</span>
      <span class="s1">&#39;-t&#39;</span><span class="p">,</span> <span class="s1">&#39;eu.gcr.io/&lt;your_gcr_repo&gt;/sesam:latest&#39;</span><span class="p">,</span>
      <span class="s1">&#39;-t&#39;</span><span class="p">,</span> <span class="s1">&#39;eu.gcr.io/&lt;your_gcr_repo&gt;/sesam:1.16.1&#39;</span><span class="p">,</span>
      <span class="s1">&#39;.&#39;</span>
    <span class="p">]</span>
<span class="n">images</span><span class="p">:</span>
  <span class="o">-</span> <span class="s1">&#39;eu.gcr.io/&lt;your_gcr_repo&gt;/sesam&#39;</span>
<span class="n">tags</span><span class="p">:</span>
  <span class="o">-</span> <span class="s1">&#39;1.16.1&#39;</span>
  <span class="o">-</span> <span class="s1">&#39;latest&#39;</span>
</pre></div>
</div>
<p>Dockerfile:</p>
<p>The dockerfile describes the container that should run when the build process is executed. This container should be deployed to the repository that is used, i.e:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>FROM debian:9.9-slim
MAINTAINER [Your name] &quot;your.email.address@domain.no&quot;

ARG SESAM_CI_VERSION=1.16.1

SHELL [&quot;/bin/bash&quot;, &quot;-c&quot;]

RUN apt-get update
RUN apt-get install -y wget

RUN set -x
RUN wget -O sesam.tar.gz https://github.com/sesam-community/sesam-py/releases/download/$SESAM_CI_VERSION/sesam-linux-$SESAM_CI_VERSION.tar.gz
RUN tar -xf sesam.tar.gz
RUN rm sesam.tar.gz
</pre></div>
</div>
<p>This dockerfile builds a container with the sesam client that is needed to execute the build. Replace [Your name] with the name of the person responsible for the build process, alongside with his or hers email-address.</p>
</div>
<div class="section" id="azure-devops">
<h3>Azure DevOps<a class="headerlink" href="#azure-devops" title="Permalink to this headline">¶</a></h3>
<p>Azure DevOps is a bit easier to set up with a single build pipeline. You will need to add the following config to your Azure DevOps setup under Pipelines</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># Sesam AzureDevops Pipeline

trigger: none

pool:
  vmImage: &#39;ubuntu-latest&#39;

steps:
- script: |
    wget -O sesam.tar.gz https://github.com/sesam-community/sesam-py/releases/download/$(sesam_cli_version)/sesam-linux-$(sesam_cli_version).tar.gz
    tar -xf sesam.tar.gz
    rm sesam.tar.gz
  displayName: &#39;Download Sesam CLI&#39;

- script: ./sesam -version
  displayName: &#39;Verify Sesam CLI version&#39;

- script: |
    export NODE=&#39;$(node)&#39;
    export JWT=&#39;$(node_jwt)&#39;
    cd node
    .././sesam -vv test  -print-scheduler-log
  displayName: &#39;Run Tests&#39;
</pre></div>
</div>
<p>You will also have to add variables</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sesam_cli_version</span> <span class="o">=</span> <span class="mf">1.16.1</span> <span class="p">(</span><span class="n">version</span> <span class="n">of</span> <span class="n">the</span> <span class="n">CLI</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">your</span> <span class="n">project</span><span class="p">)</span>
<span class="n">node</span>              <span class="o">=</span> <span class="n">datahub</span><span class="o">-***.</span><span class="n">sesam</span><span class="o">.</span><span class="n">cloud</span> <span class="p">(</span><span class="n">the</span> <span class="n">node</span> <span class="n">url</span> <span class="n">to</span> <span class="n">the</span> <span class="n">CI</span> <span class="n">server</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">your</span> <span class="n">project</span><span class="p">)</span>
<span class="n">node_jwt</span>          <span class="o">=</span> <span class="n">bearer</span> <span class="o">******</span> <span class="p">(</span><span class="n">jwt</span> <span class="k">for</span> <span class="n">the</span> <span class="n">CI</span> <span class="n">server</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">your</span> <span class="n">project</span><span class="p">)</span>
</pre></div>
</div>
<p>Branch permissions are also needed to not be able to merge a Pull Request unless the tests have completed successfully. These permissions needs to be set under</p>
<p><code class="docutils literal notranslate"><span class="pre">Repos-&gt;Branches-&gt;More-&gt;Branch</span> <span class="pre">Policies-&gt;Add</span> <span class="pre">Build</span> <span class="pre">Policy</span></code></p>
<p>Use the default settings.</p>
<p>You will also need to turn on <code class="docutils literal notranslate"><span class="pre">Require</span> <span class="pre">a</span> <span class="pre">minimum</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">reviewers</span></code>, and set it to <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">Check</span> <span class="pre">for</span> <span class="pre">linked</span> <span class="pre">work</span> <span class="pre">items</span></code>. This makes it easier to trace and close the tasks/issues for the Pull Request.</p>
<p>These settings are required for your main branches <code class="docutils literal notranslate"><span class="pre">develop</span></code> and <code class="docutils literal notranslate"><span class="pre">master</span></code>.</p>
<p>Since the <code class="docutils literal notranslate"><span class="pre">trigger</span></code> parameter is set to <code class="docutils literal notranslate"><span class="pre">none</span></code>, the build process will only trigger on Pull Requests. There is no need to build <code class="docutils literal notranslate"><span class="pre">master</span></code> and <code class="docutils literal notranslate"><span class="pre">develop</span></code> after merge.</p>
<p>Note if there is support for parallel builds on the agent pool you will need to disable this so that only one build process runs and the second build is queued up. This can be done by adding capability on the build agent. You will also need to add this in the .yaml file to enable it.
Add user capabilities in the agent pool (key value pair), key = Limit and value = DisAbleParallel</p>
<p>Your yaml file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pool</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="p">{</span><span class="n">agent</span> <span class="n">pool</span> <span class="n">name</span><span class="p">}</span>
  <span class="n">demands</span><span class="p">:</span> <span class="n">Limit</span> <span class="o">-</span><span class="n">equals</span> <span class="n">DisAbleParallel</span>
</pre></div>
</div>
<p>Your configuration will end up being in your repository under the main directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>my-project-directory
  ├ node
  | ├ pipes
  | ├ systems
  | ├ expected
  | └ ++
  └ azure-pipelines.yml
</pre></div>
</div>
</div>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="testing-locally.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Testing a Sesam configuration locally</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="automatic-deployment.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Automatic deployment</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022 Sesam.io AS.<br>
</p>
    </div>
    
  </div>
</footer>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZDKEJY06V9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZDKEJY06V9');
</script>
<!-- Start of HubSpot Embed Code -->
  <script type="text/javascript" id="hs-script-loader" async defer src="https://js.hs-scripts.com/19709964.js"></script>
<!-- End of HubSpot Embed Code -->

  </body>
</html>

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Merge source &#8212; Sesam Documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Union datasets source" href="configuration-sources-union-datasets.html" />
    <link rel="prev" title="Dataset source" href="configuration-sources-dataset.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="index.html">
  <img src="_static/sesamlogo.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="index-whatis.html">
  What is Sesam
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index-developer.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="index-learn.html">
  Learn
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="community.html">
  Community
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="legal.html">
  Legal
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference external nav-link" href="https://support.sesam.io">
  Support
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference external nav-link" href="https://portal.sesam.io">
  Login
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="quick-reference.html">
   Quick Reference
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="best-practices.html">
   Project kickstart
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="pre-planning.html">
     Planning a project
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="setup-environment.html">
     Setting up an environment
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sesam-dataflow.html">
     Creating a dataflow
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="developer-guide.html">
   Building blocks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="product-features.html">
   Features
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="DTLReferenceGuide.html">
   Data Transformation Language (DTL)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="patterns.html">
   Design patterns
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-synchronization.html">
   Data synchronization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="idempotency.html">
     Non-idempotency
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cron-expressions.html">
     Cron Expressions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="rdf-support.html">
     RDF support
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="json-pull.html">
     JSON Pull Protocol
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="json-push.html">
     JSON Push Protocol
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="extension-points.html">
     Developer Extension Points
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="source-datatype-mapping.html">
     Source datatype mapping
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-datamodelling.html">
   Data modelling
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="entitymodel.html">
     Entity Data Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="data-modelling.html">
     Data modelling
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-dataplatforms.html">
   Data platforms
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="azure.html">
     Sesam in Microsoft Azure
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-operations.html">
   Operations
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="security.html">
     Security
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notifications.html">
     Notifications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="pump-execution.html">
     Pump Execution Dataset
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="project-workflow.html">
     Configuration Management
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="version-control-system.html">
       Using Sesam with a version control system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="testing-locally.html">
       Testing a Sesam configuration locally
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="continuous-integration.html">
       Continuous integration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="automatic-deployment.html">
       Automatic deployment
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="self-hosted.html">
     Self-hosted service
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="low-level-debugging.html">
     Debugging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="behind-the-scenes.html">
     Behind the scenes
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="roadmap.html">
   Roadmap
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="tools.html">
   Tools
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="management-studio.html">
     Management Studio
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sesam-client.html">
     Sesam Client
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="gdpr-platform.html">
     GDPR platform
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-platform-configuration.html">
       Platform configuration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-data-types-purposes-configuration.html">
       Datatypes and purposes configuration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-data-access-portal.html">
       The GDPR data access portal
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-platform-developer-docs.html">
       Developer documentation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-getting-started.html">
       Getting started
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-changelog.html">
       Changelog
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="configuration.html">
   Service Configuration
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-general.html">
     General
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-variables.html">
     Environment variables and secrets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-metadata.html">
     Service metadata
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-pipes.html">
     Pipes
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="configuration-sources.html">
     Sources
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-dataset.html">
       Dataset source
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Merge source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-union-datasets.html">
       Union datasets source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-merge-datasets.html">
       Merge datasets source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-diff-datasets.html">
       Diff datasets source (experimental)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-embedded.html">
       Embedded source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-sql.html">
       SQL source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-conditional.html">
       Conditional source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-csv.html">
       CSV source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-rdf.html">
       RDF source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-sdshare.html">
       SDShare source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-ldap.html">
       LDAP source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-json.html">
       JSON source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-empty.html">
       Empty source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-http.html">
       HTTP endpoint source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-sparql.html">
       SPARQL source
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sources-rest.html">
       REST source (experimental)
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="configuration-transforms.html">
     Transforms
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-dtl.html">
       DTL transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-json-schema-validation.html">
       JSON Schema validation transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-conditional.html">
       Conditional transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-http.html">
       HTTP transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-emit-children.html">
       Emit children transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-xml.html">
       XML transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-rdf.html">
       RDF transform
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-transforms-rest.html">
       REST transform
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="configuration-sinks.html">
     Sinks
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-conditional.html">
       Conditional sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-dataset.html">
       Dataset sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-databrowser.html">
       Sesam Databrowser sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-json.html">
       JSON push sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sdshare.html">
       SDShare push sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sms.html">
       SMS message sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-solr.html">
       Solr sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-elasticsearch.html">
       Elasticsearch sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sparql.html">
       SPARQL sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-sql.html">
       SQL sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-email.html">
       Email Message sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-null.html">
       Null sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-http.html">
       HTTP endpoint sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-csv.html">
       CSV endpoint sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-xml.html">
       XML endpoint sink
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-sinks-rest.html">
       REST sink
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="configuration-systems.html">
     Systems
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-sql.html">
       SQL systems
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-oracle.html">
       Oracle system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-oracle-tns.html">
       Oracle TNS system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-mssql-legacy.html">
       Legacy Microsoft SQL Server system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-mssql.html">
       Microsoft SQL Server system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-mysql.html">
       MySQL system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-postgresql.html">
       PostgreSQL system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-ldap.html">
       LDAP system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-smtp.html">
       SMTP system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-solr.html">
       Solr system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-elasticsearch.html">
       Elasticsearch system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-twilio.html">
       Twilio system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-url.html">
       URL system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-rest.html">
       REST system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="configuration-systems-microservice.html">
       Microservice system
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="configuration-pump.html">
     Pumps
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="api.html">
   Service API
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="deprecations.html">
   Deprecated features
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="databrowser.html">
     Databrowser
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
    <label for="toctree-checkbox-15">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-guide.html">
       Databrowser Guide
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-auth.html">
       Authentication and authorization
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-api.html">
       Configuration file API
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="changelog.html">
   Changelog
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prototype">
   Prototype
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#variant-1-explicit-equality-rules-with-the-equality-property">
     Variant 1: Explicit equality-rules with the
     <code class="docutils literal notranslate">
      <span class="pre">
       equality
      </span>
     </code>
     property
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#variant-2-implicit-equality-rules-with-the-equality-sets-property">
     Variant 2: Implicit equality-rules with the
     <code class="docutils literal notranslate">
      <span class="pre">
       equality_sets
      </span>
     </code>
     property
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#properties">
   Properties
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#equality-vs-equality-sets">
   “equality” vs “equality_sets”
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#continuation-support">
   Continuation support
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#example-configuration">
   Example configuration
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="merge-source">
<span id="id1"></span><h1>Merge source<a class="headerlink" href="#merge-source" title="Permalink to this headline">¶</a></h1>
<p>The merge source is a source that is able to infer the sameness of
entities across multiple datasets. The source uses a set of equality
rules to figure out which entities are the same. Equality is resolved
transitively, so if A is the same as B and B is the same as C then A,
B and C are all considered the same.</p>
<p>Deletes will be output for entity ids that are no longer
applicable. This typically happens when an entity is first merged with
one entity and then later merged with some other entities, and the id
of the resulting entity changes. Those entities will also have the
<code class="docutils literal notranslate"><span class="pre">$replaced</span></code> property set to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<p>If an entity is deleted in its source dataset then the entity will not
be merged, but instead output as a standalone entity with <code class="docutils literal notranslate"><span class="pre">_deleted</span></code>
set to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<div class="section" id="prototype">
<h2>Prototype<a class="headerlink" href="#prototype" title="Permalink to this headline">¶</a></h2>
<div class="section" id="variant-1-explicit-equality-rules-with-the-equality-property">
<h3>Variant 1: Explicit equality-rules with the <code class="docutils literal notranslate"><span class="pre">equality</span></code> property<a class="headerlink" href="#variant-1-explicit-equality-rules-with-the-equality-property" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;merge&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;datasets&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A a&quot;</span><span class="p">,</span> <span class="s2">&quot;B b&quot;</span><span class="p">,</span> <span class="s2">&quot;C c&quot;</span><span class="p">,</span> <span class="s2">&quot;D d&quot;</span><span class="p">],</span>
    <span class="s2">&quot;equality&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="s2">&quot;a.x&quot;</span><span class="p">,</span> <span class="s2">&quot;b.x&quot;</span><span class="p">],</span>
        <span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="s2">&quot;b.x&quot;</span><span class="p">,</span> <span class="s2">&quot;c.y&quot;</span><span class="p">],</span>
        <span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="s2">&quot;c.z&quot;</span><span class="p">,</span> <span class="s2">&quot;d.z&quot;</span><span class="p">],</span>
    <span class="p">],</span>
    <span class="s2">&quot;supports_signalling&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="variant-2-implicit-equality-rules-with-the-equality-sets-property">
<h3>Variant 2: Implicit equality-rules with the <code class="docutils literal notranslate"><span class="pre">equality_sets</span></code> property<a class="headerlink" href="#variant-2-implicit-equality-rules-with-the-equality-sets-property" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;merge&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;datasets&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A a&quot;</span><span class="p">,</span> <span class="s2">&quot;B b&quot;</span><span class="p">,</span> <span class="s2">&quot;C c&quot;</span><span class="p">,</span> <span class="s2">&quot;D d&quot;</span><span class="p">],</span>
    <span class="s2">&quot;equality_sets&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="s2">&quot;a.x&quot;</span><span class="p">,</span> <span class="s2">&quot;b.x&quot;</span><span class="p">,</span> <span class="s2">&quot;c.y&quot;</span><span class="p">],</span>
        <span class="p">[</span><span class="s2">&quot;c.z&quot;</span><span class="p">,</span> <span class="s2">&quot;d.z&quot;</span><span class="p">],</span>
    <span class="p">],</span>
    <span class="s2">&quot;supports_signalling&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given table">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Req</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">version</span></code></p></td>
<td><p>Number</p></td>
<td><p>There are two different versions of the merge source. Note that the default value is <code class="docutils literal notranslate"><span class="pre">1</span></code> for compatibility reasons. Version <code class="docutils literal notranslate"><span class="pre">1</span></code> is deprecated. Use version <code class="docutils literal notranslate"><span class="pre">2</span></code> if this is a new pipe.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">datasets</span></code></p></td>
<td><p>List&lt;String{&gt;=1}&gt;</p></td>
<td><p>A list of one or more datasets that are to be merged. Each item in this list is a pair of dataset id and dataset alias. A given dataset can only appear once in this list. The syntax is the same as in the <code class="docutils literal notranslate"><span class="pre">datasets</span></code> property in <a class="reference internal" href="DTLReferenceGuide.html#hops-dtl-function"><span class="std std-ref">hops</span></a>.</p></td>
<td></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">initial_datasets</span></code></p></td>
<td><p>List&lt;String{&gt;=0}&gt;</p></td>
<td><p>By default the source will be considered populated if all the datasets in the <code class="docutils literal notranslate"><span class="pre">datasets</span></code>  property have been populated. If some of these datasets will never be populated then this property can be used to list the datasets that must be populated before the source is considered populated. You should normally not have to use this property.</p>
<p>See also the <a class="reference internal" href="configuration-sinks-dataset.html#dataset-sink"><span class="std std-ref">dataset sink</span></a> property <code class="docutils literal notranslate"><span class="pre">set_initial_offset</span></code>.</p>
</td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">equality</span></code></p></td>
<td><p>List&lt;EqFunctions{&gt;=0}&gt;</p></td>
<td><p>A list of zero or more <code class="docutils literal notranslate"><span class="pre">eq</span></code> functions that are to be used to decide which entities are the same. The functions must follow the rules for <a class="reference internal" href="DTLReferenceGuide.html#joins"><span class="std std-ref">joins</span></a> in DTL.
Note: Consider using the newer <code class="docutils literal notranslate"><span class="pre">equality_sets</span></code> property instead.</p></td>
<td></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">equality_sets</span></code></p></td>
<td><p>List&lt;List&lt;ValueExpressions&gt;{&gt;0}&gt;</p></td>
<td><p>A list of lists with one or more value expressions. This is the preferred alternative to using the old
<code class="docutils literal notranslate"><span class="pre">equality</span></code> property to specify the equality-rules. See below for a detailed explanation of the difference between <code class="docutils literal notranslate"><span class="pre">equality</span></code> and <code class="docutils literal notranslate"><span class="pre">equality_sets</span></code>.</p></td>
<td></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">identity</span></code></p></td>
<td><p>String</p></td>
<td><p>Specifies the strategy for how to create the <code class="docutils literal notranslate"><span class="pre">_id</span></code> of the resulting entities.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;composite&quot;</span></code> - The default, which is to create an id
composed of all the ids of the entities involved and the
offset of the dataset from which they originates.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">&quot;0|one1|1|two1|1|two2|2|three3&quot;</span></code>. This particular
id consists of four entity ids from three datasets. If it is
the result of the prototypical merge source shown above, then
<code class="docutils literal notranslate"><span class="pre">one1</span></code> is the id of an entity from the <code class="docutils literal notranslate"><span class="pre">d1</span></code> dataset,
<code class="docutils literal notranslate"><span class="pre">two1</span></code> and <code class="docutils literal notranslate"><span class="pre">two2</span></code> are ids of entities from the <code class="docutils literal notranslate"><span class="pre">d2</span></code>
dataset, and <code class="docutils literal notranslate"><span class="pre">three3</span></code> is the id of an entity from the
<code class="docutils literal notranslate"><span class="pre">d3</span></code> dataset.</p>
<p>The parts of the composite id are first ordered by the offset
of the dataset in the <code class="docutils literal notranslate"><span class="pre">datasets</span></code> property, then by the
entities’ <code class="docutils literal notranslate"><span class="pre">_id</span></code> property. This results in a deterministic
entity id.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;first&quot;</span></code> - Similar to the <code class="docutils literal notranslate"><span class="pre">composite</span></code> strategy, but uses
the entity id of the first entity given the same ordering
rules as above.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">&quot;one1&quot;</span></code>.</p>
</li>
</ul>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;composite&quot;</span></code></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">strategy</span></code></p></td>
<td><p>String</p></td>
<td><p>The strategy to use to combine the properties of the merged
entities. This affects how the resulting entities look.</p>
<p>The examples below illustrate the results of merging the
following three entities in this particular order (ids omitted for brevity):
<code class="docutils literal notranslate"><span class="pre">{&quot;x&quot;:1}</span></code>, <code class="docutils literal notranslate"><span class="pre">{&quot;y&quot;:</span> <span class="pre">[2,</span> <span class="pre">1]}</span></code>, <code class="docutils literal notranslate"><span class="pre">{&quot;y&quot;:</span> <span class="pre">2,</span> <span class="pre">&quot;z&quot;:</span> <span class="pre">[3,</span> <span class="pre">3]}</span></code></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;default&quot;</span></code> - The default is to union all the values. This is similar to how the
<a class="reference internal" href="DTLReferenceGuide.html#dtl-transform-merge-union"><span class="std std-ref">merge-union</span></a> DTL function
works. Duplicates are not removed.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">{&quot;x&quot;:</span> <span class="pre">1,</span> <span class="pre">&quot;y&quot;:</span> <span class="pre">[2,</span> <span class="pre">1,</span> <span class="pre">2],</span> <span class="pre">&quot;z&quot;:</span> <span class="pre">[3,</span> <span class="pre">3]}</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;compact&quot;</span></code> - Similar to the default strategy, but tries to
compact the property values; duplicate values are removed,
properties with empty lists are dropped, and list properties
with a single value are turned into single valued properties.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">{&quot;x&quot;:</span> <span class="pre">1,</span> <span class="pre">&quot;y&quot;:</span> <span class="pre">[2,</span> <span class="pre">1],</span> <span class="pre">&quot;z&quot;:</span> <span class="pre">3}</span></code></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;list&quot;</span></code> - Returns an entity with a <code class="docutils literal notranslate"><span class="pre">$merged</span></code> property
which contains a list of the merged entities. This strategy
can be used to implement custom strategies.</p>
<div class="line-block">
<div class="line">Example:</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">{&quot;$merged&quot;:</span> <span class="pre">[</span></code></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">{&quot;x&quot;:</span> <span class="pre">1},</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">{&quot;y&quot;:</span> <span class="pre">[2,</span> <span class="pre">1]},</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">{&quot;y&quot;:</span> <span class="pre">2,</span> <span class="pre">&quot;z&quot;:</span> <span class="pre">[3,</span> <span class="pre">3]}]}</span></code></div>
</div>
</div>
</li>
</ul>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;default&quot;</span></code></p></td>
<td><p>No</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">supports_signalling</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>Flag used to enable or disable signalling support between internal pipes (dataset to dataset pipes). If enabled, a pipe
run is scheduled as soon as the input dataset(s) changes. It does not interrupt any already running pipes.</p>
<p>See <code class="docutils literal notranslate"><span class="pre">global_defaults.use_signalling_internally</span></code> in the <a class="reference internal" href="configuration-metadata.html#service-metadata-section"><span class="std std-ref">service metadata</span></a> section for more details.</p>
<p>If signalling is turned on globally, you will have to explicitly set <code class="docutils literal notranslate"><span class="pre">supports_signalling</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code> to
disable it on individual pipes where you don’t want to automatically schedule runs on changes. Note that it is
automatically disabled (if not explicitly enabled on the source) if the schedule interval is less than 2 minutes or a cron
expression has been used.</p>
</td>
<td><p>false</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="equality-vs-equality-sets">
<h2>“equality” vs “equality_sets”<a class="headerlink" href="#equality-vs-equality-sets" title="Permalink to this headline">¶</a></h2>
<p>Equality is resolved transitively, so if A is the same as B and B is the same as C then A,
B and C are all considered the same. With the <code class="docutils literal notranslate"><span class="pre">equality</span></code> property, these rules must be specified
one at a time, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;equality&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="s2">&quot;a.x&quot;</span><span class="p">,</span> <span class="s2">&quot;b.x&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="s2">&quot;b.x&quot;</span><span class="p">,</span> <span class="s2">&quot;c.y&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="s2">&quot;c.z&quot;</span><span class="p">,</span> <span class="s2">&quot;d.z&quot;</span><span class="p">],</span>
<span class="p">],</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">equality_sets</span></code> property was added as a way to makes it clearer which equality-rules belong together.
The equality-rules above could be expressed like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;equality_sets&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;a.x&quot;</span><span class="p">,</span> <span class="s2">&quot;b.x&quot;</span><span class="p">,</span> <span class="s2">&quot;c.y&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;c.z&quot;</span><span class="p">,</span> <span class="s2">&quot;d.z&quot;</span><span class="p">],</span>
<span class="p">],</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">equality_sets</span></code> property is just a bit of syntactic sugar; behind the scenes the implicit
equality-rules are added to the rules in the <code class="docutils literal notranslate"><span class="pre">equality</span></code> property. This means that you can use both the
<code class="docutils literal notranslate"><span class="pre">equality_sets</span></code> and the <code class="docutils literal notranslate"><span class="pre">equality</span></code> property at the same time if you want (although this is not recommended, since
it makes it harder to figure out the equality-rules). It also means that you will not get a configuration warning if
if you accidentally specify two equality-sets that are actually overlapping. If you for example specify this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;equality_sets&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;a.x&quot;</span><span class="p">,</span> <span class="s2">&quot;b.x&quot;</span><span class="p">,</span> <span class="s2">&quot;c.y&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;c.y&quot;</span><span class="p">,</span> <span class="s2">&quot;d.y&quot;</span><span class="p">],</span>
<span class="p">],</span>
</pre></div>
</div>
<p>you won’t actually get two equality-sets, since behind the scenes you end up with these equality-rules:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;equality&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="s2">&quot;a.x&quot;</span><span class="p">,</span> <span class="s2">&quot;b.x&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="s2">&quot;b.x&quot;</span><span class="p">,</span> <span class="s2">&quot;c.y&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="s2">&quot;c.y&quot;</span><span class="p">,</span> <span class="s2">&quot;d.y&quot;</span><span class="p">]</span>
<span class="p">],</span>
</pre></div>
</div>
<p>, which is equivalent to specifying a single equality-set, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;equality_sets&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span><span class="s2">&quot;a.x&quot;</span><span class="p">,</span> <span class="s2">&quot;b.x&quot;</span><span class="p">,</span> <span class="s2">&quot;c.y&quot;</span><span class="p">,</span> <span class="s2">&quot;d.y&quot;</span><span class="p">],</span>
<span class="p">],</span>
</pre></div>
</div>
</div>
<div class="section" id="continuation-support">
<h2>Continuation support<a class="headerlink" href="#continuation-support" title="Permalink to this headline">¶</a></h2>
<p>See the section on <a class="reference internal" href="configuration-sources.html#continuation-support"><span class="std std-ref">continuation support</span></a> for more information.</p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">supports_since</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code> (Fixed)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">is_since_comparable</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code> (Fixed)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">is_chronological</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code> (Fixed)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="example-configuration">
<h2>Example configuration<a class="headerlink" href="#example-configuration" title="Permalink to this headline">¶</a></h2>
<p>Below you’ll find three datasets <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code> and a pipe configuration
that uses the <code class="docutils literal notranslate"><span class="pre">merge</span></code> source.</p>
<p>Dataset <code class="docutils literal notranslate"><span class="pre">A</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;a1&quot;</span><span class="p">,</span> <span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;a2&quot;</span><span class="p">,</span> <span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Dataset <code class="docutils literal notranslate"><span class="pre">B</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;f2&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;b2&quot;</span><span class="p">,</span> <span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Dataset <code class="docutils literal notranslate"><span class="pre">C</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;c1&quot;</span><span class="p">,</span> <span class="s2">&quot;f3&quot;</span><span class="p">:</span> <span class="s2">&quot;X&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;c2&quot;</span><span class="p">,</span> <span class="s2">&quot;_deleted&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s2">&quot;f3&quot;</span><span class="p">:</span> <span class="s2">&quot;Y&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;c3&quot;</span><span class="p">,</span> <span class="s2">&quot;_deleted&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s2">&quot;f3&quot;</span><span class="p">:</span> <span class="s2">&quot;X&quot;</span><span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Pipe configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;result&quot;</span><span class="p">,</span>
    <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;merge&quot;</span><span class="p">,</span>
        <span class="s2">&quot;datasets&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A a&quot;</span><span class="p">,</span> <span class="s2">&quot;B b&quot;</span><span class="p">,</span> <span class="s2">&quot;C c&quot;</span><span class="p">],</span>
        <span class="s2">&quot;equality&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="s2">&quot;a.f1&quot;</span><span class="p">,</span> <span class="s2">&quot;b.f1&quot;</span><span class="p">],</span>
            <span class="p">[</span><span class="s2">&quot;eq&quot;</span><span class="p">,</span> <span class="s2">&quot;b.f2&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;lower&quot;</span><span class="p">,</span> <span class="s2">&quot;c.f3&quot;</span><span class="p">]],</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Given the above we should expect an output that looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;$ids&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a1&quot;</span><span class="p">,</span> <span class="s2">&quot;b1&quot;</span><span class="p">,</span> <span class="s2">&quot;c1&quot;</span><span class="p">],</span> <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;0|a1|1|b1|2|c1&quot;</span><span class="p">,</span> <span class="s2">&quot;_updated&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
     <span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;f2&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;f3&quot;</span><span class="p">:</span> <span class="s2">&quot;X&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;$ids&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a2&quot;</span><span class="p">],</span> <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;0|a2&quot;</span><span class="p">,</span> <span class="s2">&quot;_updated&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;$ids&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;b2&quot;</span><span class="p">],</span> <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1|b2&quot;</span><span class="p">,</span> <span class="s2">&quot;_updated&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;f1&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;$ids&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;c2&quot;</span><span class="p">],</span> <span class="s2">&quot;_deleted&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;2|c2&quot;</span><span class="p">,</span> <span class="s2">&quot;_updated&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;f3&quot;</span><span class="p">:</span> <span class="s2">&quot;Y&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;$ids&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;c3&quot;</span><span class="p">],</span> <span class="s2">&quot;_deleted&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;2|c3&quot;</span><span class="p">,</span> <span class="s2">&quot;_updated&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;f3&quot;</span><span class="p">:</span> <span class="s2">&quot;X&quot;</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Entities <code class="docutils literal notranslate"><span class="pre">a1</span></code>, <code class="docutils literal notranslate"><span class="pre">b1</span></code> and <code class="docutils literal notranslate"><span class="pre">c1</span></code> have been merged. Entities <code class="docutils literal notranslate"><span class="pre">a2</span></code>
and <code class="docutils literal notranslate"><span class="pre">b2</span></code> did not match any other entities. Deleted entities, like
<code class="docutils literal notranslate"><span class="pre">c2</span></code> and <code class="docutils literal notranslate"><span class="pre">c3</span></code>, are never merged with any other entities.</p>
<p>The merged entities are combined so that the properties and their
values are merged in the resulting entity. <code class="docutils literal notranslate"><span class="pre">null</span></code> values are kept
intact. List values appear in a consistent order and may contain
duplicate values.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">_updated</span></code> property is a sequence number that increases every
time a new entity is generated by the source. Entities appear in
chronological order.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">_id</span></code> property is a composite id that consists of the dataset
offset and entity id joined by the <code class="docutils literal notranslate"><span class="pre">|</span></code> character. The dataset offset
is the index of the dataset in the <code class="docutils literal notranslate"><span class="pre">datasets</span></code> property in the pipe
configuration. The composite parts are ordered by dataset offset and
entity in order to get consistent ids.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">$ids</span></code> property contains all the original entity ids of the
entities merged into the entity. Note that an entity id will not be
added to this list if the original entity has the <code class="docutils literal notranslate"><span class="pre">$ids</span></code>
property. Because of how properties are merged the <code class="docutils literal notranslate"><span class="pre">$ids</span></code> will end
up being a union of all the orginal entity ids excluding the entity
ids of the merge entities themselves. This is useful when merging
already merged entities downstream.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not remove a dataset from the <code class="docutils literal notranslate"><span class="pre">datasets</span></code> property nor change
the order of the datasets in the <code class="docutils literal notranslate"><span class="pre">datasets</span></code> property. Doing so
may lead to inconsistent results. Adding or renaming datasets is OK
though as this won’t affect the order of the datasets.</p>
<p>If config changes are required be aware of the following:
Using merge source version <code class="docutils literal notranslate"><span class="pre">1</span></code> any reordering will require a reset of the pipe and maybe deletion of the downstream dataset.
For both merge source version <code class="docutils literal notranslate"><span class="pre">1</span></code> and <code class="docutils literal notranslate"><span class="pre">2</span></code> any removal of datasets will require a reset of the pipe.</p>
</div>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="configuration-sources-dataset.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Dataset source</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="configuration-sources-union-datasets.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Union datasets source</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022 Sesam.io AS.<br>
</p>
    </div>
    
  </div>
</footer>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZDKEJY06V9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZDKEJY06V9');
</script>
<!-- Start of HubSpot Embed Code -->
  <script type="text/javascript" id="hs-script-loader" async defer src="https://js.hs-scripts.com/19709964.js"></script>
<!-- End of HubSpot Embed Code -->

  </body>
</html>
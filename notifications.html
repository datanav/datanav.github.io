<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Low-level debugging" href="low-level-debugging.html" /><link rel="prev" title="Security" href="security.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.02.14.1"/>
        <title>Notifications - Docs</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=a8f031f701c6af50c9919b48f173a5785af06fac" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=25ceb02ed1c46dc30f2321ff83e92799f69dfdb9" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  body[data-theme="dark"] {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
  @media (prefers-color-scheme: dark) {
    body:not([data-theme="light"]) {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }
</style></head>
  <body>
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<div class="announcement">
  <aside class="announcement-content">
     This is a preview of the restructured Sesam Documenantation site. For production go to <a href="https://docs.sesam.io">docs.sesam.io</a> 
  </aside>
</div>

<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Docs</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/sesamlogo.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="core-principles.html">Core principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">Key features</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="best-practices.html">Best Practices</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="pre-planning.html">Planning a Sesam project</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup-environment.html">Setting up a Sesam environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="collecting_data.html">Collect</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-enrichment.html">Enrichment</a></li>
<li class="toctree-l2"><a class="reference internal" href="connecting-data.html">Connect</a></li>
<li class="toctree-l2"><a class="reference internal" href="transform-data.html">Transform</a></li>
<li class="toctree-l2"><a class="reference internal" href="sharing-data.html">Sharing data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick-reference.html">Quick Reference</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="developer-guide.html">Developer Guide</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Service Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="entitymodel.html">Entity Data Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="DTLReferenceGuide.html">Data Transformation Language (DTL)</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">Service API</a></li>
<li class="toctree-l2"><a class="reference internal" href="extension-points.html">Developer Extension Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="json-pull.html">JSON Pull Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="json-push.html">JSON Push Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="pump-execution.html">Pump Execution Dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="cron-expressions.html">Cron Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="rdf-support.html">RDF support</a></li>
<li class="toctree-l2"><a class="reference internal" href="idempotency.html">Non-idempotency</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="low-level-debugging.html">Low-level debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="source-datatype-mapping.html">Source datatype mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="self-hosted.html">Self-hosted service</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-modelling.html">Data modelling in Sesam</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="project-workflow.html">Working on a Sesam project</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="version-control-system.html">Using Sesam with a version control system</a></li>
<li class="toctree-l3"><a class="reference internal" href="testing-locally.html">Testing a Sesam configuration locally</a></li>
<li class="toctree-l3"><a class="reference internal" href="continuous-integration.html">Continuous integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="automatic-deployment.html">Automatic deployment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="azure.html">Sesam in Microsoft Azure</a></li>
<li class="toctree-l2"><a class="reference internal" href="deprecations.html">Deprecated features</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tools.html">Tools</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="management-studio.html">Management Studio</a></li>
<li class="toctree-l2"><a class="reference internal" href="sesam-client.html">Sesam Client</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="databrowser.html">Databrowser</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="databrowser-guide.html">Databrowser Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="databrowser-auth.html">Authentication and authorization</a></li>
<li class="toctree-l3"><a class="reference internal" href="databrowser-api.html">Configuration file API</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="gdpr-platform.html">GDPR platform</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="gdpr-platform-configuration.html">Platform configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdpr-data-types-purposes-configuration.html">Datatypes and purposes configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdpr-data-access-portal.html">The GDPR data access portal</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdpr-platform-developer-docs.html">Developer documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdpr-getting-started.html">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="gdpr-changelog.html">Changelog</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="behind-the-scenes.html">Behind the scenes</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="legal.html">Legal</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="terms.html">Terms of Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="legal-service.html">Description of the Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="pricing.html">Subscription Fee, payment terms</a></li>
<li class="toctree-l2"><a class="reference internal" href="legal-dap.html">Data Process Agreement</a></li>
<li class="toctree-l2"><a class="reference internal" href="partner-agreement.html">Partner Agreement</a></li>
<li class="toctree-l2"><a class="reference internal" href="privacy-policy.html">Privacy Policy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="notifications">
<h1>Notifications<a class="headerlink" href="#notifications" title="Permalink to this headline">#</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<p>SESAM lets users specify “notification rules” that will trigger alerts when certain
conditions occur.</p>
<p>When a notification rule triggers, the user(s) get notified in the GUI and optionally by email.</p>
<p>Notification rules are added under the “Notifications” tab on the “Pipe”-page in the GUI.</p>
</div>
<div class="section" id="pump-completed-pump-failed-notification-rules">
<h2>Pump completed / Pump failed notification rules<a class="headerlink" href="#pump-completed-pump-failed-notification-rules" title="Permalink to this headline">#</a></h2>
<div class="section" id="what-can-be-monitored">
<h3>What can be monitored?<a class="headerlink" href="#what-can-be-monitored" title="Permalink to this headline">#</a></h3>
<p>When a pipe has finished running (either because it has finished normally, or if some error has occured),
it will log some key numbers about the pipe-run.</p>
<p>A notification rule can be added for each of these values, so that the user is alerted if a value
is too high or too low.</p>
<div class="section" id="entities-processed">
<span id="pipe-completed-metric-entities-last-run"></span><h4>Entities processed<a class="headerlink" href="#entities-processed" title="Permalink to this headline">#</a></h4>
<p>This is the total number of entities that was read from the pipe’s source.</p>
</div>
<div class="section" id="changed-entities">
<span id="pipe-completed-metric-changes-last-run"></span><h4>Changed entities<a class="headerlink" href="#changed-entities" title="Permalink to this headline">#</a></h4>
<p>This is the number or entities that was actually changed. When writing an entity to a dataset, the
pipe will compare the new entity to the version of entity that is already in the dataset (if any). If
the entity is already in the dataset and is identical to the new entity, the new entity is skipped.</p>
</div>
<div class="section" id="failed-retries">
<span id="pipe-completed-metric-number-of-failed-retries-last-run"></span><h4>Failed retries<a class="headerlink" href="#failed-retries" title="Permalink to this headline">#</a></h4>
<p>This is the number of entities that was unsuccessfully retried. The pipe will retry these entities again the next
time the pipe runs..</p>
</div>
<div class="section" id="dead-entities">
<span id="pipe-completed-metric-number-of-dead-entities-last-run"></span><h4>Dead entities<a class="headerlink" href="#dead-entities" title="Permalink to this headline">#</a></h4>
<p>This is the number of entities that the pipe unsuccessfully retried writing to the sink, and where the pipe
has retried so many times that the pipe has permanently given up on the entities.</p>
</div>
<div class="section" id="failed-retried-entities">
<span id="pipe-completed-metric-retry-errors-last-run"></span><h4>Failed retried entities<a class="headerlink" href="#failed-retried-entities" title="Permalink to this headline">#</a></h4>
<p>This is the total number of failed retry attempts. This number is the sum of the
<a class="reference internal" href="#pipe-completed-metric-number-of-failed-retries-last-run"><span class="std std-ref">Failed retries</span></a>
and <a class="reference internal" href="#pipe-completed-metric-number-of-dead-entities-last-run"><span class="std std-ref">Dead entities</span></a> properties.</p>
</div>
<div class="section" id="successfully-retried-entities">
<span id="pipe-completed-metric-retries-succeeded-last-run"></span><h4>Successfully retried entities<a class="headerlink" href="#successfully-retried-entities" title="Permalink to this headline">#</a></h4>
<p>This is the number of entities that was retried, and where the retry attempt succeeded.</p>
</div>
<div class="section" id="read-errors">
<span id="pipe-completed-metric-read-errors-last-run"></span><h4>Read errors<a class="headerlink" href="#read-errors" title="Permalink to this headline">#</a></h4>
<p>This is the number of time the pipe failed to read entities from the source.</p>
</div>
<div class="section" id="write-errors">
<span id="pipe-completed-metric-write-errors-last-run"></span><h4>Write errors<a class="headerlink" href="#write-errors" title="Permalink to this headline">#</a></h4>
<p>This is the number of times the pipe failed to write entities to the sink.</p>
</div>
<div class="section" id="sink-time">
<span id="pipe-completed-metric-sink-time"></span><h4>Sink time<a class="headerlink" href="#sink-time" title="Permalink to this headline">#</a></h4>
<p>This is the number of seconds the pipe spent writing to the sink.</p>
</div>
<div class="section" id="source-time">
<span id="pipe-completed-metric-source-time"></span><h4>Source time<a class="headerlink" href="#source-time" title="Permalink to this headline">#</a></h4>
<p>This is the number of seconds the pipe spent reading from the source.</p>
</div>
<div class="section" id="transform-time">
<span id="pipe-completed-metric-transform-time"></span><h4>Transform time<a class="headerlink" href="#transform-time" title="Permalink to this headline">#</a></h4>
<p>This is the number of seconds the pipe spent doing DTL and other types for transforms.</p>
</div>
<div class="section" id="reason-why-stopped">
<span id="pipe-completed-property-reason-why-stopped"></span><h4>Reason why stopped<a class="headerlink" href="#reason-why-stopped" title="Permalink to this headline">#</a></h4>
<p>When a pipe-run fails, this value contains an error message that describes the problem.</p>
<p>Since this is not a numeric value, it cannot be used with the “Value too high/low” rule types. It
is intended to be used with the <a class="reference internal" href="#pump-completed-pattern-match-notification-rule"><span class="std std-ref">Pattern match</span></a> rule.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ConnectionError</span><span class="p">:</span> <span class="n">HTTPConnectionPool</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">'testsystem'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">9999</span><span class="p">):</span> <span class="n">Max</span> <span class="n">retries</span> <span class="n">exceeded</span> <span class="k">with</span> <span class="n">url</span><span class="p">:</span> <span class="o">/</span><span class="n">sludder</span> <span class="p">(</span><span class="n">Caused</span> <span class="n">by</span> <span class="n">NewConnectionError</span><span class="p">(</span><span class="s1">'&lt;requests.packages.urllib3.connection.HTTPConnection object at 0x7f12b7aaa518&gt;: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution'</span><span class="p">,))</span>
</pre></div>
</div>
</div>
<div class="section" id="traceback">
<span id="pipe-completed-property-traceback"></span><h4>Traceback<a class="headerlink" href="#traceback" title="Permalink to this headline">#</a></h4>
<p>When a pipe-run fails, this value contains the stacktrace of the error.</p>
<p>Since this is not a numeric value, it cannot be used with the “Value too high/low” rule types. It
is intended to be used with the <a class="reference internal" href="#pump-completed-pattern-match-notification-rule"><span class="std std-ref">Pattern match</span></a> rule.</p>
<p>Tip: It is usually better to use the <a class="reference internal" href="#pipe-completed-property-reason-why-stopped"><span class="std std-ref">Reason why stopped</span></a> value
instead, since that is less verbose while still usually containing the relevant error-message.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>\<span class="n">n</span>  <span class="n">File</span> \<span class="s2">"/usr/local/lib/python3.6/dist-packages/requests/packages/urllib3/connection.py</span><span class="se">\"</span><span class="s2">, line 142, in _new_conn</span><span class="se">\n</span><span class="s2">    (self.host, self.port), self.timeout, **extra_kw)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/packages/urllib3/util/connection.py</span><span class="se">\"</span><span class="s2">, line 67, in create_connection</span><span class="se">\n</span><span class="s2">    for res in socket.getaddrinfo(host, port, 0, socket.SOCK_STREAM):</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/lib/python3.6/socket.py</span><span class="se">\"</span><span class="s2">, line 745, in getaddrinfo</span><span class="se">\n</span><span class="s2">    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):</span><span class="se">\n</span><span class="s2">socket.gaierror: [Errno -3] Temporary failure in name resolution</span><span class="se">\n\n</span><span class="s2">During handling of the above exception, another exception occurred:</span><span class="se">\n</span><span class="s2">Traceback (most recent call last):</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/packages/urllib3/connectionpool.py</span><span class="se">\"</span><span class="s2">, line 578, in urlopen</span><span class="se">\n</span><span class="s2">    chunked=chunked)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/packages/urllib3/connectionpool.py</span><span class="se">\"</span><span class="s2">, line 362, in _make_request</span><span class="se">\n</span><span class="s2">    conn.request(method, url, **httplib_request_kw)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/lib/python3.6/http/client.py</span><span class="se">\"</span><span class="s2">, line 1239, in request</span><span class="se">\n</span><span class="s2">    self._send_request(method, url, body, headers, encode_chunked)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/lib/python3.6/http/client.py</span><span class="se">\"</span><span class="s2">, line 1285, in _send_request</span><span class="se">\n</span><span class="s2">    self.endheaders(body, encode_chunked=encode_chunked)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/lib/python3.6/http/client.py</span><span class="se">\"</span><span class="s2">, line 1234, in endheaders</span><span class="se">\n</span><span class="s2">    self._send_output(message_body, encode_chunked=encode_chunked)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/lib/python3.6/http/client.py</span><span class="se">\"</span><span class="s2">, line 1026, in _send_output</span><span class="se">\n</span><span class="s2">    self.send(msg)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/lib/python3.6/http/client.py</span><span class="se">\"</span><span class="s2">, line 964, in send</span><span class="se">\n</span><span class="s2">    self.connect()</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/packages/urllib3/connection.py</span><span class="se">\"</span><span class="s2">, line 167, in connect</span><span class="se">\n</span><span class="s2">    conn = self._new_conn()</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/packages/urllib3/connection.py</span><span class="se">\"</span><span class="s2">, line 151, in _new_conn</span><span class="se">\n</span><span class="s2">    self, </span><span class="se">\"</span><span class="s2">Failed to establish a new connection: </span><span class="si">%s</span><span class="se">\"</span><span class="s2"> </span><span class="si">% e</span><span class="s2">)</span><span class="se">\n</span><span class="s2">requests.packages.urllib3.exceptions.NewConnectionError: &lt;requests.packages.urllib3.connection.HTTPConnection object at 0x7f12b7a954a8&gt;: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution</span><span class="se">\n\n</span><span class="s2">During handling of the above exception, another exception occurred:</span><span class="se">\n</span><span class="s2">Traceback (most recent call last):</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/adapters.py</span><span class="se">\"</span><span class="s2">, line 403, in send</span><span class="se">\n</span><span class="s2">    timeout=timeout</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/packages/urllib3/connectionpool.py</span><span class="se">\"</span><span class="s2">, line 623, in urlopen</span><span class="se">\n</span><span class="s2">    _stacktrace=sys.exc_info()[2])</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/packages/urllib3/util/retry.py</span><span class="se">\"</span><span class="s2">, line 281, in increment</span><span class="se">\n</span><span class="s2">    raise MaxRetryError(_pool, url, error or ResponseError(cause))</span><span class="se">\n</span><span class="s2">requests.packages.urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='testsystem', port=9999): Max retries exceeded with url: /sludder (Caused by NewConnectionError('&lt;requests.packages.urllib3.connection.HTTPConnection object at 0x7f12b7a954a8&gt;: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution',))</span><span class="se">\n\n</span><span class="s2">During handling of the above exception, another exception occurred:</span><span class="se">\n</span><span class="s2">Traceback (most recent call last):</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/lake/sources/json.py</span><span class="se">\"</span><span class="s2">, line 31, in getEntities</span><span class="se">\n</span><span class="s2">    with self.system.getStream(session, absolute_url, params=params) as stream:</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/lake/systems/url.py</span><span class="se">\"</span><span class="s2">, line 189, in getStream</span><span class="se">\n</span><span class="s2">    session=session, url=url, params=params, headers=headers)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/lake/systems/url.py</span><span class="se">\"</span><span class="s2">, line 182, in getStreamAndContentLength</span><span class="se">\n</span><span class="s2">    r, content_length = self.getRequestAndContentLength(session, url, params=params, headers=headers)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/lake/systems/url.py</span><span class="se">\"</span><span class="s2">, line 160, in getRequestAndContentLength</span><span class="se">\n</span><span class="s2">    verify=self.verify_ssl, timeout=self.timeout)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/sessions.py</span><span class="se">\"</span><span class="s2">, line 487, in get</span><span class="se">\n</span><span class="s2">    return self.request('GET', url, **kwargs)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/sessions.py</span><span class="se">\"</span><span class="s2">, line 475, in request</span><span class="se">\n</span><span class="s2">    resp = self.send(prep, **send_kwargs)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/sessions.py</span><span class="se">\"</span><span class="s2">, line 585, in send</span><span class="se">\n</span><span class="s2">    r = adapter.send(request, **kwargs)</span><span class="se">\n</span><span class="s2">  File </span><span class="se">\"</span><span class="s2">/usr/local/lib/python3.6/dist-packages/requests/adapters.py</span><span class="se">\"</span><span class="s2">, line 467, in send</span><span class="se">\n</span><span class="s2">    raise ConnectionError(e, request=request)</span><span class="se">\n</span><span class="s2">requests.exceptions.ConnectionError: HTTPConnectionPool(host='testsystem', port=9999): Max retries exceeded with url: /sludder (Caused by NewConnectionError('&lt;requests.packages.urllib3.connection.HTTPConnection object at 0x7f12b7a954a8&gt;: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution',))</span>
</pre></div>
</div>
</div>
<div class="section" id="additional-low-level-errormessage">
<span id="pipe-completed-property-original-error-message"></span><h4>Additional low-level errormessage<a class="headerlink" href="#additional-low-level-errormessage" title="Permalink to this headline">#</a></h4>
<p>When a pipe-run fails, this value can in some cases contain an additional
low-level description of what went wrong. Note: If no additional information is available, this
property will be empty.</p>
<p>Since this is not a numeric value, it cannot be used with the “Value too high/low” rule types. It
is intended to be used with the <a class="reference internal" href="#pump-completed-pattern-match-notification-rule"><span class="std std-ref">Pattern match</span></a> rule.</p>
</div>
<div class="section" id="additional-low-level-traceback">
<h4>Additional low-level traceback<a class="headerlink" href="#additional-low-level-traceback" title="Permalink to this headline">#</a></h4>
<p>When a pipe-run fails, this value can in some cases contain an additional low-level stacktrace of the
error. Note: If no additional information is available, this value will be empty.</p>
<p>Since this is not a numeric value, it cannot be used with the “Value too high/low” rule types. It
is intended to be used with the <a class="reference internal" href="#pump-completed-pattern-match-notification-rule"><span class="std std-ref">Pattern match</span></a> rule.</p>
<p>Tip: It is usually better to use the <a class="reference internal" href="#pipe-completed-property-original-error-message"><span class="std std-ref">Additional low-level errormessage</span></a> value
instead of this value, since that is less verbose while still usually containing the relevant error-message.</p>
</div>
</div>
<div class="section" id="how-can-it-be-monitored">
<h3>How can it be monitored?<a class="headerlink" href="#how-can-it-be-monitored" title="Permalink to this headline">#</a></h3>
<p>Each of the metric described above can be monitored in a number of different ways.</p>
<div class="section" id="value-too-low">
<span id="pump-completed-value-too-low-notification-rule"></span><h4>Value too low<a class="headerlink" href="#value-too-low" title="Permalink to this headline">#</a></h4>
<p>This rule type triggers a notification if a metric was below a specified value.</p>
</div>
<div class="section" id="value-too-high">
<span id="pump-completed-value-too-high-notification-rule"></span><h4>Value too high<a class="headerlink" href="#value-too-high" title="Permalink to this headline">#</a></h4>
<p>This rule type triggers a notification if a metric was above a specified value.</p>
</div>
<div class="section" id="value-too-low-over-time">
<span id="pump-completed-value-too-low-over-time-notification-rule"></span><h4>Value too low over time<a class="headerlink" href="#value-too-low-over-time" title="Permalink to this headline">#</a></h4>
<p>This rule type triggers a notification if a metric has been below a specified value for a
specified period of time.</p>
</div>
<div class="section" id="value-too-high-over-time">
<span id="pump-completed-value-too-high-over-time-notification-rule"></span><h4>Value too high over time<a class="headerlink" href="#value-too-high-over-time" title="Permalink to this headline">#</a></h4>
<p>This rule type triggers a notification if a metric has been above a specified value for a
specified period of time.</p>
</div>
</div>
</div>
<div class="section" id="pump-started-overdue">
<span id="pump-started-overdue-notification-rule"></span><h2>Pump started overdue<a class="headerlink" href="#pump-started-overdue" title="Permalink to this headline">#</a></h2>
<p>The purpose of this rule type is to alert the user if a pipe hasn’t started running by the
time it is supposed to.</p>
<p>When a pipe starts to run, the next expected starttime is calculated based on the pipe’s
<a class="reference internal" href="configuration.html#pump-param-schedule-interval"><span class="std std-ref">schedule interval</span></a> or <a class="reference internal" href="configuration.html#pump-param-cron-expression"><span class="std std-ref">cron expression</span></a>
configuration setting.</p>
<p>When the pipe finishes running, the next expected starttime is calculated again.</p>
<p>If the current expected starttime is passed by more than 5 minutes without the pipe having started again, an alert
is generated.</p>
<p>The “Grace period” parameter can be used to extend the timeout by specifying an addition number
of seconds the pipe-run can be overdue. The number of seconds in the “Grace period” parameter is added to the
‘built-in’ grace-period of 300 seconds.</p>
</div>
<div class="section" id="pump-finished-overdue">
<span id="pump-finished-overdue-notification-rule"></span><h2>Pump finished overdue<a class="headerlink" href="#pump-finished-overdue" title="Permalink to this headline">#</a></h2>
<p>The purpose of this rule type is to alert the user if a pipe hasn’t finished running by the
time it is supposed to.</p>
<p>The “Limit” parameter specified the number of seconds that the pipe is allowed to run before an alert is generated.
The number of seconds in the “Limit” parameter is added to the ‘built-in’ limit of 300 seconds.</p>
</div>
<div class="section" id="pump-failed">
<span id="pump-failed-notification-rule"></span><h2>Pump failed<a class="headerlink" href="#pump-failed" title="Permalink to this headline">#</a></h2>
<p>This ruletype checks if the pipe failed the last time it ran, for any reason.</p>
<p>If more control of when the notification rule triggers is needed, the
<a class="reference internal" href="#pump-completed-pattern-match-notification-rule"><span class="std std-ref">Pattern match</span></a> rule can be used instead.</p>
</div>
<div class="section" id="restore-completed">
<span id="restore-completed-notification-rule"></span><h2>Restore completed<a class="headerlink" href="#restore-completed" title="Permalink to this headline">#</a></h2>
<p>This ruletype triggers when the pipe and its associated state and data has been restored from backup. This can happen
if the machine the pipe is running on has failed for some reason; in this case the pipe’s state and data might
be restored from a remote backup. After a restore the pipe will be in the state it was when the backup was made,
which means data might be reprocessed.</p>
<p>See also the <a class="reference internal" href="#pump-offset-set-notification-rule"><span class="std std-ref">Pump offset set</span></a> notification rule.</p>
</div>
<div class="section" id="pump-offset-set">
<span id="pump-offset-set-notification-rule"></span><h2>Pump offset set<a class="headerlink" href="#pump-offset-set" title="Permalink to this headline">#</a></h2>
<p>This ruletype triggers when the pipe’s offset has been set for any reason. The offset can be set manually by a
user (for instance by resetting the pipe), or automatically if the pipe detects that something has happened to
the upstream pipes that requires the pipe’s offset to be modified.</p>
<p>A typical usecase is that an upstream pipe has been restored from backup; in this case the pipe’s offset may be
rewound to match the max offset of the restored upstread pipe.</p>
<p>See also the <a class="reference internal" href="#restore-completed-notification-rule"><span class="std std-ref">Restore completed</span></a> notification rule.</p>
</div>
<div class="section" id="pattern-match">
<span id="pump-completed-pattern-match-notification-rule"></span><h2>Pattern match<a class="headerlink" href="#pattern-match" title="Permalink to this headline">#</a></h2>
<p>The purpose of this rule type is to alert the user if a pipe has failed with a specific error-message.</p>
<p>The user can specify which value to examine, but the most common use case is the
<a class="reference internal" href="#pipe-completed-property-reason-why-stopped"><span class="std std-ref">Reason why stopped</span></a> value.</p>
<p>The pattern supports the “*” and “?” wildcard characters. “*” matches any number of characters.
“?” matches one single character.</p>
<p>Example:
If the “Reason why stopped” looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ConnectionError</span><span class="p">:</span> <span class="n">HTTPConnectionPool</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">'testsystem'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">9999</span><span class="p">):</span> <span class="n">Max</span> <span class="n">retries</span> <span class="n">exceeded</span> <span class="k">with</span> <span class="n">url</span><span class="p">:</span> <span class="o">/</span><span class="n">sludder</span> <span class="p">(</span><span class="n">Caused</span> <span class="n">by</span> <span class="n">NewConnectionError</span><span class="p">(</span><span class="s1">'&lt;requests.packages.urllib3.connection.HTTPConnection object at 0x7f12b7b32550&gt;: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution'</span><span class="p">,))</span>
</pre></div>
</div>
<p>appropriate patterns to use to match this error could be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">establish</span> <span class="n">a</span> <span class="n">new</span> <span class="n">connection</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Temporary</span> <span class="n">failure</span> <span class="ow">in</span> <span class="n">name</span> <span class="n">resolution</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Failed</span> <span class="n">to</span> <span class="n">establish</span> <span class="n">a</span> <span class="n">new</span> <span class="n">connection</span><span class="o">*</span><span class="n">name</span> <span class="n">resolution</span>
</pre></div>
</div>
<p>, depending on which part(s) of the errormessage the user is interested in.</p>
<p>Tip: there is no need for wildcards at the start and/or end of the pattern; if the pattern matches
<em>anywhere</em> in the value the notification-rule will trigger.</p>
<p>Note: If the value is missing or empty, the pattern will <em>never</em> match.</p>
<p>If the intention is to get a notification whenever a pipe fails, it is better to use the
<a class="reference internal" href="#pump-failed-notification-rule"><span class="std std-ref">Pump failed</span></a> rule instead.</p>
</div>
<div class="section" id="node-heartbeat-overdue">
<h2>Node heartbeat overdue<a class="headerlink" href="#node-heartbeat-overdue" title="Permalink to this headline">#</a></h2>
<p>The purpose of this rule is to alert the user if something is wrong in the notification-machinery itself.</p>
<p>This is a special built-in rule that is automatically applied to pipes that have one or more
user-specified rules. It is normally never visible to end-users.</p>
<p>Notifications generated by this rule will show up in the <a class="reference external" href="https://portal.sesam.io/alerts">Alert</a> page
in the GUI. The notification rule will not send any email notifications.</p>
<p>Technical details: This rule triggers if something has gone wrong in the notification machinery itself (hardware problems
with a server machine, bugs in a software component, etc). The way it works is that a sesam-node is supposed to send
a “heartbeat” message at regular intervals. If the Sesam portal backend hasn’t seen a message from the sesam-node for
a long time, a “Node heartbeat overdue” notification is triggered.</p>
</div>
<div class="section" id="alert-rate-limiting">
<h2>Alert rate limiting<a class="headerlink" href="#alert-rate-limiting" title="Permalink to this headline">#</a></h2>
<p>To avoid flooding users with alert, each notification rule will only generate at most one alert
per hour. If the notification rule triggered more than once during that hour, the alert-message
will say something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">"First occurrence: 2017-11-16 09:53:16. This event has triggered</span>
<span class="n">an</span> <span class="n">additional</span> <span class="mi">215</span> <span class="n">times</span> <span class="n">after</span> <span class="n">the</span> <span class="n">first</span> <span class="n">occurrence</span><span class="o">.</span> <span class="n">The</span> <span class="n">last</span> <span class="n">time</span>
<span class="n">it</span> <span class="n">triggered</span> <span class="n">was</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">16</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mf">57.</span><span class="s2">"</span>
</pre></div>
</div>
</div>
<div class="section" id="notification-summary-api">
<h2>Notification summary API<a class="headerlink" href="#notification-summary-api" title="Permalink to this headline">#</a></h2>
<p>The SESAM portal backend publishes a notification summary on the API endpoint <a class="reference external" href="https://portal.sesam.io/api/notifications-summary">https://portal.sesam.io/api/notifications-summary</a> .</p>
<p>This endpoint is intended for advanced users who want a quick way of checking if any notification-rules on a
subscription have triggered (for instance to create a status-board website).</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="s1">'https://portal.sesam.io/api/notifications-summary'</span> <span class="o">-</span><span class="n">H</span> <span class="s1">'Authorization: bearer &lt;JWT-for-the-subscription-12345644-2a04-4ff1-9d77-7b3eb615974c&gt;'</span>
</pre></div>
</div>
<p>will result in a response that looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345644-2a04-4ff1-9d77-7b3eb615974c"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345644-2a04-4ff1-9d77-7b3eb615974c"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345644-2a04-4ff1-9d77-7b3eb615974c_pumpoverduetest"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pumpoverduetest"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345644-2a04-4ff1-9d77-7b3eb615974c"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345644-2a04-4ff1-9d77-7b3eb615974c_monitoring-canary"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">261</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"alerts_will_be_visible_for_the_current_user"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">"event_count"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"event_timestamp"</span><span class="p">:</span> <span class="s2">"2019-09-09T11:24:46.187000Z"</span><span class="p">,</span>
        <span class="s2">"is_ongoing"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">"last_event_timestamp"</span><span class="p">:</span> <span class="s2">"2019-09-09T11:24:46.187000Z"</span><span class="p">,</span>
        <span class="s2">"msg"</span><span class="p">:</span> <span class="s2">"The value of the 'Entities processed' parameter was 0, which is below the specified limit 1."</span><span class="p">,</span>
        <span class="s2">"notification_id"</span><span class="p">:</span> <span class="mi">57763</span><span class="p">,</span>
        <span class="s2">"notification_rule_id"</span><span class="p">:</span> <span class="s2">"12345653-f722-4e7e-9afd-59bb3a4f82d5"</span><span class="p">,</span>
        <span class="s2">"notification_rule_name"</span><span class="p">:</span> <span class="s2">"Too low test"</span><span class="p">,</span>
        <span class="s2">"notification_rule_type"</span><span class="p">:</span> <span class="s2">"pump_completed_value_too_low"</span><span class="p">,</span>
        <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"monitoring-canary"</span><span class="p">,</span>
        <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345644-2a04-4ff1-9d77-7b3eb615974c"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"alerts_will_be_visible_for_the_current_user"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">"event_count"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"event_timestamp"</span><span class="p">:</span> <span class="s2">"2019-09-09T11:24:46.187000Z"</span><span class="p">,</span>
        <span class="s2">"is_ongoing"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">"last_event_timestamp"</span><span class="p">:</span> <span class="s2">"2019-09-09T11:24:46.187000Z"</span><span class="p">,</span>
        <span class="s2">"msg"</span><span class="p">:</span> <span class="s2">"The value of the 'Entities processed' parameter was 0, which is below the specified limit 2."</span><span class="p">,</span>
        <span class="s2">"notification_id"</span><span class="p">:</span> <span class="mi">57762</span><span class="p">,</span>
        <span class="s2">"notification_rule_id"</span><span class="p">:</span> <span class="s2">"1234560e-cf92-4325-bc39-51cf2604d646"</span><span class="p">,</span>
        <span class="s2">"notification_rule_name"</span><span class="p">:</span> <span class="s2">"Too low test2"</span><span class="p">,</span>
        <span class="s2">"notification_rule_type"</span><span class="p">:</span> <span class="s2">"pump_completed_value_too_low"</span><span class="p">,</span>
        <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"monitoring-canary"</span><span class="p">,</span>
        <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345644-2a04-4ff1-9d77-7b3eb615974c"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"monitoring-canary"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345644-2a04-4ff1-9d77-7b3eb615974c"</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Each entry refers to either a subscription or to a pipe and represents a summary of all the notification rules
defined for that subscription or pipe. Only pipes with at least one user-defined notification-rule will show up in
the list.</p>
<p>The “subscription_id” property refers to the internal id of the SESAM subscription. When using the GUI, this id is
visible in the browser’s address bar. Example for the ‘12345644-2a04-4ff1-9d77-7b3eb615974c’ subscription:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">portal</span><span class="o">.</span><span class="n">sesam</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">subscription</span><span class="o">/</span><span class="mi">12345644</span><span class="o">-</span><span class="mi">2</span><span class="n">a04</span><span class="o">-</span><span class="mi">4</span><span class="n">ff1</span><span class="o">-</span><span class="mi">9</span><span class="n">d77</span><span class="o">-</span><span class="mi">7</span><span class="n">b3eb615974c</span><span class="o">/</span><span class="n">overview</span>
</pre></div>
</div>
<p>The “pipe_id” property refers to the “_id” value in the pipe config (subscription summary-entries don’t have a
“pipe_id” property).</p>
<p>If none of the notification rules on a pipe has been triggered, the summary-entry for the pipe will have a
“status”-property with the value “ok”.</p>
<p>If at least one rule is currently triggered, the summary-entry for the pipe will have a “status”-property with the
value “failed” and a “notifications”-property with a list of the ongoing notifications.</p>
<p>The subscription summary entries can have notifications for the following notification rule types:</p>
<ul class="simple">
<li><dl class="simple">
<dt>store_disk_usage_upper_limit</dt><dd><p>This is a built-in rule that is automatically added to all subscriptions.
It triggers if the subscription is using too much disk space.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>license_expiration_date</dt><dd><p>This is a built-in rule that is automatically added to all subscriptions.
This ruletype checks if the subscription’s license is getting close to its expiration date.</p>
</dd>
</dl>
</li>
</ul>
<p>This endpoint implements the <a class="reference internal" href="json-pull.html"><span class="doc">JSON Pull Protocol</span></a>, but the following quirk is useful to
know about: The ordering of the returned entities are not directly determined by when the notification each entity
describes triggered. Example: if the endpoint returns two entities with <code class="docutils literal notranslate"><span class="pre">"_updated":1</span></code> and  <code class="docutils literal notranslate"><span class="pre">"_updated":2</span></code>,
the entity with  <code class="docutils literal notranslate"><span class="pre">"_updated":1</span></code> might describe a notification that triggered <em>after</em> the notification in the entity
with <code class="docutils literal notranslate"><span class="pre">"_updated":2</span></code>. This is not a problem, but can be a source of confusion if one is not aware of this behaviour.</p>
<div class="section" id="example-timeline">
<h3>Example timeline<a class="headerlink" href="#example-timeline" title="Permalink to this headline">#</a></h3>
<p>This timeline illustrates how the notification-summary api works.</p>
<div class="section" id="id1">
<h4>10:00<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h4>
<p>We have three pipes: pipeA, pipeB and pipeC. Initially, no pipes have triggered any notifications.
At this time, the api returns something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeA"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeA"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeB"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">101</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeB"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeC"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">102</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeC"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h4>10:01<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h4>
<p>pipeA fails and triggers a notification</p>
</div>
<div class="section" id="id3">
<h4>10:02<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h4>
<p>pipeB fails and triggers a notification</p>
</div>
<div class="section" id="id4">
<h4>10:03<a class="headerlink" href="#id4" title="Permalink to this headline">#</a></h4>
<p>At this time, the api may return this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeC"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeC"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeA"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">103</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeA"</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">01</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeB"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">104</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeB"</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">02</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>But, it may just as well return this (i.e. switching the order of pipeA and pipeB):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeC"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeC"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeB"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">103</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeB"</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">02</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeA"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">104</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeA"</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">01</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>(Implementation details: This happens because the “_updated” values aren’t assigned until the “api/notification-summary” endpoint is actually called. At that point all the current notifications are gathered, and the code decides if it needs to create new entries for any of the pipes.)</p>
</div>
<div class="section" id="id5">
<h4>10:04<a class="headerlink" href="#id5" title="Permalink to this headline">#</a></h4>
<p>pipeC fails and triggers a notification</p>
</div>
<div class="section" id="id6">
<h4>10:05<a class="headerlink" href="#id6" title="Permalink to this headline">#</a></h4>
<p>At this time, the api will return this (assuming that the ordering at 10:03 was “pipeC”, “pipeB”, “pipeA”):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeB"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">103</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeB"</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">02</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeA"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">104</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeA"</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">01</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeC"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">105</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">04</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeC"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h4>10:06<a class="headerlink" href="#id7" title="Permalink to this headline">#</a></h4>
<p>pipeC fails again, but in a way that triggers an additional notification.</p>
</div>
<div class="section" id="id8">
<h4>10:07<a class="headerlink" href="#id8" title="Permalink to this headline">#</a></h4>
<p>At this time, the api will returns this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeB"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">103</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeB"</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">02</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeA"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">104</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeA"</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">01</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeC"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">106</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">04</span><span class="o">**</span><span class="p">},</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">06</span><span class="o">**</span><span class="p">},</span>
    <span class="p">],</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeC"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h4>10:08<a class="headerlink" href="#id9" title="Permalink to this headline">#</a></h4>
<p>pipeA succeeds, and all notifications on pipeA is removed.</p>
</div>
<div class="section" id="id10">
<h4>10:09<a class="headerlink" href="#id10" title="Permalink to this headline">#</a></h4>
<p>At this time, the api will returns this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeB"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">103</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeB"</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">02</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeC"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">106</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">04</span><span class="o">**</span><span class="p">},</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">06</span><span class="o">**</span><span class="p">},</span>
    <span class="p">],</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeC"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeA"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">107</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeA"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h4>10:10<a class="headerlink" href="#id11" title="Permalink to this headline">#</a></h4>
<p>pipeC fails yet again, but in a way that makes the notification that was triggered at 10:06 go away.</p>
</div>
<div class="section" id="id12">
<h4>10:11<a class="headerlink" href="#id12" title="Permalink to this headline">#</a></h4>
<p>At this time, the api will returns this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeB"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">103</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeB"</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">02</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeA"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">107</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeA"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"ok"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"_deleted"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
    <span class="s2">"_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab_pipeC"</span><span class="p">,</span>
    <span class="s2">"_updated"</span><span class="p">:</span> <span class="mi">108</span><span class="p">,</span>
    <span class="s2">"confidence"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"notifications"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="o">**</span><span class="n">the</span> <span class="n">notification</span> <span class="n">that</span> <span class="n">was</span> <span class="n">triggered</span> <span class="n">at</span> <span class="mi">10</span><span class="p">:</span><span class="mi">04</span><span class="o">**</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"pipe_id"</span><span class="p">:</span> <span class="s2">"pipeC"</span><span class="p">,</span>
    <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"failed"</span><span class="p">,</span>
    <span class="s2">"subscription_id"</span><span class="p">:</span> <span class="s2">"12345678-1234-1234-1234-1234567890ab"</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="low-level-debugging.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Low-level debugging</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="security.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Security</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022 Sesam.io AS
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Notifications</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#pump-completed-pump-failed-notification-rules">Pump completed / Pump failed notification rules</a><ul>
<li><a class="reference internal" href="#what-can-be-monitored">What can be monitored?</a><ul>
<li><a class="reference internal" href="#entities-processed">Entities processed</a></li>
<li><a class="reference internal" href="#changed-entities">Changed entities</a></li>
<li><a class="reference internal" href="#failed-retries">Failed retries</a></li>
<li><a class="reference internal" href="#dead-entities">Dead entities</a></li>
<li><a class="reference internal" href="#failed-retried-entities">Failed retried entities</a></li>
<li><a class="reference internal" href="#successfully-retried-entities">Successfully retried entities</a></li>
<li><a class="reference internal" href="#read-errors">Read errors</a></li>
<li><a class="reference internal" href="#write-errors">Write errors</a></li>
<li><a class="reference internal" href="#sink-time">Sink time</a></li>
<li><a class="reference internal" href="#source-time">Source time</a></li>
<li><a class="reference internal" href="#transform-time">Transform time</a></li>
<li><a class="reference internal" href="#reason-why-stopped">Reason why stopped</a></li>
<li><a class="reference internal" href="#traceback">Traceback</a></li>
<li><a class="reference internal" href="#additional-low-level-errormessage">Additional low-level errormessage</a></li>
<li><a class="reference internal" href="#additional-low-level-traceback">Additional low-level traceback</a></li>
</ul>
</li>
<li><a class="reference internal" href="#how-can-it-be-monitored">How can it be monitored?</a><ul>
<li><a class="reference internal" href="#value-too-low">Value too low</a></li>
<li><a class="reference internal" href="#value-too-high">Value too high</a></li>
<li><a class="reference internal" href="#value-too-low-over-time">Value too low over time</a></li>
<li><a class="reference internal" href="#value-too-high-over-time">Value too high over time</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#pump-started-overdue">Pump started overdue</a></li>
<li><a class="reference internal" href="#pump-finished-overdue">Pump finished overdue</a></li>
<li><a class="reference internal" href="#pump-failed">Pump failed</a></li>
<li><a class="reference internal" href="#restore-completed">Restore completed</a></li>
<li><a class="reference internal" href="#pump-offset-set">Pump offset set</a></li>
<li><a class="reference internal" href="#pattern-match">Pattern match</a></li>
<li><a class="reference internal" href="#node-heartbeat-overdue">Node heartbeat overdue</a></li>
<li><a class="reference internal" href="#alert-rate-limiting">Alert rate limiting</a></li>
<li><a class="reference internal" href="#notification-summary-api">Notification summary API</a><ul>
<li><a class="reference internal" href="#example-timeline">Example timeline</a><ul>
<li><a class="reference internal" href="#id1">10:00</a></li>
<li><a class="reference internal" href="#id2">10:01</a></li>
<li><a class="reference internal" href="#id3">10:02</a></li>
<li><a class="reference internal" href="#id4">10:03</a></li>
<li><a class="reference internal" href="#id5">10:04</a></li>
<li><a class="reference internal" href="#id6">10:05</a></li>
<li><a class="reference internal" href="#id7">10:06</a></li>
<li><a class="reference internal" href="#id8">10:07</a></li>
<li><a class="reference internal" href="#id9">10:08</a></li>
<li><a class="reference internal" href="#id10">10:09</a></li>
<li><a class="reference internal" href="#id11">10:10</a></li>
<li><a class="reference internal" href="#id12">10:11</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>
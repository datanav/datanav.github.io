
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Deprecations &#8212; Sesam Documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/blank.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Databrowser" href="databrowser.html" />
    <link rel="prev" title="Service API" href="api.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="index.html">
  <img src="_static/sesamlogo.svg" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="index-whatis.html">
  What is Sesam
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index-developer.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="index-learn.html">
  Learn Sesam
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="community.html">
  Community
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="legal.html">
  Legal
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="quick-reference.html">
  Quick Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference external nav-link" href="https://support.sesam.io">
  Support
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="best-practices.html">
   Project kickstart
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="pre-planning.html">
     Planning a project
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="setup-environment.html">
     Setting up an environment
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sesam-dataflow.html">
     Creating a dataflow
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="developer-guide.html">
   Building blocks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="product-features.html">
   Features
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="DTLReferenceGuide.html">
   Data Transformation Language (DTL)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="patterns.html">
   Design patterns
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-synchronization.html">
   Data synchronization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="idempotency.html">
     Non-idempotency
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cron-expressions.html">
     Cron Expressions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="rdf-support.html">
     RDF support
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="json-pull.html">
     JSON Pull Protocol
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="json-push.html">
     JSON Push Protocol
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="extension-points.html">
     Developer Extension Points
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="source-datatype-mapping.html">
     Source datatype mapping
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-datamodelling.html">
   Data modelling
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="entitymodel.html">
     Entity Data Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="data-modelling.html">
     Data modelling
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-dataplatforms.html">
   Data platforms
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="azure.html">
     Sesam in Microsoft Azure
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="index-operations.html">
   Operations
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="security.html">
     Security
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="notifications.html">
     Notifications
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="pump-execution.html">
     Pump Execution Dataset
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="project-workflow.html">
     Configuration Management
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="version-control-system.html">
       Using Sesam with a version control system
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="testing-locally.html">
       Testing a Sesam configuration locally
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="continuous-integration.html">
       Continuous integration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="automatic-deployment.html">
       Automatic deployment
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="self-hosted.html">
     Self-hosted service
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="low-level-debugging.html">
     Debugging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="behind-the-scenes.html">
     Behind the scenes
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="roadmap.html">
   Roadmap
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="tools.html">
   Tools
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="management-studio.html">
     Management Studio
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="sesam-client.html">
     Sesam Client
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="gdpr-platform.html">
     GDPR platform
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-platform-configuration.html">
       Platform configuration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-data-types-purposes-configuration.html">
       Datatypes and purposes configuration
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-data-access-portal.html">
       The GDPR data access portal
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-platform-developer-docs.html">
       Developer documentation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-getting-started.html">
       Getting started
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="gdpr-changelog.html">
       Changelog
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="configuration.html">
   Service Configuration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="api.html">
   Service API
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="current reference internal" href="#">
   Deprecated features
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="databrowser.html">
     Databrowser
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-guide.html">
       Databrowser Guide
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-auth.html">
       Authentication and authorization
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="databrowser-api.html">
       Configuration file API
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="changelog.html">
   Changelog
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dtl-functions">
   DTL Functions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sources">
   Sources
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-kafka-source">
     The Kafka source
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#prototype">
       Prototype
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#properties">
       Properties
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#example-configuration">
       Example configuration
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#transforms">
   Transforms
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-properties-to-curies-transform">
     The properties to CURIEs transform
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       Prototype
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id3">
       Properties
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#example">
       Example
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-uris-to-curies-transform">
     The URIs to CURIEs transform
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id5">
       Prototype
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id6">
       Properties
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id7">
       Example
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-lower-keys-transform">
     The lower keys transform
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id8">
       Prototype
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id9">
       Properties
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id10">
       Example
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-upper-keys-transform">
     The upper keys transform
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-undirected-graph-transform">
     The undirected graph transform
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id11">
       Prototype
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id12">
       Properties
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id13">
       Example
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sinks">
   Sinks
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#deprecated-properties">
     Deprecated Properties
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-kafka-sink">
     The Kafka sink
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id14">
       Prototype
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id15">
       Properties
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id16">
       Example configuration
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#systems">
   Systems
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-kafka-system">
     The Kafka system
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id17">
       Prototype
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id18">
       Properties
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-rdf-registry">
   The RDF registry
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rdf-registry-items">
     RDF registry items
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#prefixes">
       Prefixes
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#built-in-prefixes">
       Built-in prefixes
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#prefix-rules">
       Prefix rules
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#the-property-to-curie-transform">
       The property to CURIE transform
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rdf-input">
   RDF input
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id20">
     The URIs to CURIEs transform
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rdf-in-transforms">
   RDF in transforms
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#accessing-curies-properties">
     Accessing CURIEs properties
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#curie-expansion-in-dtl">
     CURIE expansion in DTL
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pipes">
   Pipes
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#short-hand-configuration">
     Short-hand configuration
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="deprecations">
<span id="id1"></span><h1>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h1>
<p>This document contains deprecated sections from the documentation. Do
not make use of these features.</p>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="dtl-functions">
<h2>DTL Functions<a class="headerlink" href="#dtl-functions" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given table">
<colgroup>
<col style="width: 11%" />
<col style="width: 33%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Examples</p>
</th>
</tr>
</thead>
<tbody id="curie-dtl-function">
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">curie</span></code></p></td>
<td><div class="line-block">
<div class="line"><em>Arguments:</em></div>
<div class="line-block">
<div class="line">PREFIX(string{1}),</div>
<div class="line">VALUES(value-expression{1})</div>
<div class="line"><br /></div>
</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Constructs new CURIEs as URI objects based on a the PREFIX
and VALUES arguments.</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;curie&quot;,</span> <span class="pre">&quot;foo&quot;,</span> <span class="pre">&quot;bar&quot;]</span></code></div>
<div class="line"><br /></div>
<div class="line">This will produce a URI object with the value <code class="docutils literal notranslate"><span class="pre">&quot;~rfoo:bar&quot;</span></code>.</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;curie&quot;,</span> <span class="pre">&quot;foo&quot;,</span> <span class="pre">[&quot;list&quot;,</span> <span class="pre">&quot;bar&quot;,</span> <span class="pre">&quot;zoo&quot;]]</span></code></div>
<div class="line"><br /></div>
<div class="line">This will produce a list of two URI objects with the
values <code class="docutils literal notranslate"><span class="pre">[&quot;~rfoo:bar&quot;,</span> <span class="pre">&quot;~rfoo:zoo&quot;]</span></code>.</div>
</div>
</td>
</tr>
<tr class="row-odd" id="uri-expand-dtl-function"><td><p><code class="docutils literal notranslate"><span class="pre">uri-expand</span></code></p></td>
<td><div class="line-block">
<div class="line"><em>Arguments:</em></div>
<div class="line-block">
<div class="line">FUNCTION(function-expression(0|1}</div>
<div class="line">ENTITIES(value-expression{1})</div>
<div class="line"><br /></div>
</div>
</div>
</td>
<td><div class="line-block">
<div class="line">Runs the given entities through the prefixing rules and the
prefix expansion mapping defined in the node metadata RDF registry.
The given entities must have a <code class="docutils literal notranslate"><span class="pre">_dataset</span></code> property containing the
id of the dataset to which they belong <em>or</em> the key to look up the
prefixes must be computed by the (optional) FUNCTION argument. The
result of the FUNCTION argument will override any <code class="docutils literal notranslate"><span class="pre">_dataset</span></code>
property on the entity. The id given or computed will be used to locate
the prefix rules and prefix expansion mapping within the node RDF registry.
Note that the result of FUNCTION must be a single string value.</div>
</div>
<div class="line-block">
<div class="line">The main purpose of this function is to prepare entities for
translation into RDF form. See the <a class="reference internal" href="rdf-support.html"><span class="doc">RDF support</span></a>
document for more information about how this works.</div>
</div>
<div class="line-block">
<div class="line">Example node metadata:</div>
</div>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;rdf&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;people&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="s2">&quot;prefixes&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s2">&quot;p&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.org/people/&quot;</span>
         <span class="p">},</span>
         <span class="s2">&quot;prefix_rules&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;p&quot;</span><span class="p">,</span>
           <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">[</span>
              <span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
              <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Employer&quot;</span><span class="p">],</span>
              <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;**&quot;</span><span class="p">]</span>
           <span class="p">]</span>
         <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line">Example input entity:</div>
</div>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;john_doe&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;people&quot;</span><span class="p">,</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
  <span class="s2">&quot;employer&quot;</span><span class="p">:</span> <span class="s2">&quot;Example Ltd.&quot;</span><span class="p">,</span>
  <span class="s2">&quot;born&quot;</span><span class="p">:</span> <span class="s2">&quot;1973-01-21&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line">Given the above configuration you should expect the following URI-expanded
entity in the result:</div>
</div>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;http://example.org/people/john_doe&gt;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;_dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;people&quot;</span><span class="p">,</span>
  <span class="s2">&quot;&lt;http://example.org/people/name&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
  <span class="s2">&quot;&lt;http://example.org/company/employer&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;Example Ltd.&quot;</span><span class="p">,</span>
  <span class="s2">&quot;&lt;http://example.org/born&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;1973-01-21&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;uri-expand&quot;,</span></code></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">{&quot;_id&quot;:</span> <span class="pre">&quot;mary&quot;,</span> <span class="pre">&quot;_dataset&quot;:</span> <span class="pre">&quot;people&quot;,</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Mary</span> <span class="pre">Jones&quot;}]</span></code></div>
<div class="line"><br /></div>
</div>
<div class="line">Returns an URI expanded version of the <code class="docutils literal notranslate"><span class="pre">mary</span></code> entity.</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;uri-expand&quot;,</span></code></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;lookup&quot;,</span> <span class="pre">[&quot;list&quot;,</span> <span class="pre">&quot;~rsesam:A/foo&quot;],</span> <span class="pre">&quot;bar&quot;]]</span></code></div>
<div class="line"><br /></div>
</div>
<div class="line">Looks up the <code class="docutils literal notranslate"><span class="pre">foo</span></code> entity in the <code class="docutils literal notranslate"><span class="pre">A</span></code> dataset and <code class="docutils literal notranslate"><span class="pre">bar</span></code> in the current
dataset, then URI expands them.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;uri-expand&quot;,</span></code></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;list&quot;,</span> <span class="pre">{&quot;_id&quot;:</span> <span class="pre">&quot;mary&quot;,</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Mary</span> <span class="pre">Jones&quot;}]]</span></code></div>
<div class="line"><br /></div>
</div>
<div class="line">Returns an empty list because the <code class="docutils literal notranslate"><span class="pre">mary</span></code> entity is missing the <code class="docutils literal notranslate"><span class="pre">_dataset</span></code>
property.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;uri-expand&quot;,</span> <span class="pre">[&quot;string&quot;,</span> <span class="pre">&quot;people&quot;],</span></code></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">{&quot;_id&quot;:</span> <span class="pre">&quot;mary&quot;,</span> <span class="pre">&quot;_dataset&quot;:</span> <span class="pre">&quot;employees&quot;,</span></code></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Mary</span> <span class="pre">Jones&quot;}]</span></code></div>
<div class="line"><br /></div>
</div>
</div>
<div class="line">Returns an URI expanded version of the <code class="docutils literal notranslate"><span class="pre">mary</span></code> entity using the prefixes
registered by the “people” key in the node RDF registry (i.e. the
<code class="docutils literal notranslate"><span class="pre">_dataset</span></code> value of “employees” is overriden by the computed value)</div>
</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;uri-expand&quot;,</span> <span class="pre">[&quot;string&quot;,</span> <span class="pre">&quot;_.type&quot;],</span></code></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">{&quot;_id&quot;:</span> <span class="pre">&quot;mary&quot;,</span> <span class="pre">&quot;_dataset&quot;:</span> <span class="pre">&quot;employees&quot;,</span></code></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;person&quot;,</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Mary</span> <span class="pre">Jones&quot;}]</span></code></div>
<div class="line"><br /></div>
</div>
</div>
<div class="line">Returns an URI expanded version of the <code class="docutils literal notranslate"><span class="pre">mary</span></code> entity using the prefixes
registered by the “person” key in the node RDF registry. The <code class="docutils literal notranslate"><span class="pre">_dataset</span></code>
value of “employees” is overriden by the computed value (based on
the contents of the entity’s <code class="docutils literal notranslate"><span class="pre">type</span></code> property in this example).</div>
</div>
</td>
</tr>
<tr class="row-even" id="lookup-dtl-function"><td><p><code class="docutils literal notranslate"><span class="pre">lookup</span></code></p></td>
<td><div class="line-block">
<div class="line"><em>Arguments:</em></div>
<div class="line-block">
<div class="line">DATASET_IDS(value-expression{0|1})</div>
<div class="line">ENTITY_REFERENCES(value-expression{1})</div>
<div class="line"><br /></div>
</div>
<div class="line">Returns an entity or a list of entities by resolving the strings or URIs in
ENTITY_REFERENCES. The URIs will be resolved by looking up entities by
id in the given datasets. Relative references will be resolved in the
current dataset or in the DATASET_IDS datasets if specified. The returned
entities have an extra <code class="docutils literal notranslate"><span class="pre">_dataset</span></code> property containing the id of the dataset
where they came from.</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;lookup&quot;,</span> <span class="pre">&quot;~rsesam:A/foo&quot;]</span></code></div>
<div class="line"><br /></div>
<div class="line">Looks up the <code class="docutils literal notranslate"><span class="pre">foo</span></code> entity in the <code class="docutils literal notranslate"><span class="pre">A</span></code> dataset.</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;lookup&quot;,</span> <span class="pre">&quot;A&quot;,</span> <span class="pre">[&quot;list&quot;,</span> <span class="pre">&quot;foo&quot;,</span> <span class="pre">&quot;sesam:B/bar&quot;]]</span></code></div>
<div class="line"><br /></div>
<div class="line">Looks up the <code class="docutils literal notranslate"><span class="pre">foo</span></code> entity in the <code class="docutils literal notranslate"><span class="pre">A</span></code> dataset and the <code class="docutils literal notranslate"><span class="pre">bar</span></code>
entity in the <code class="docutils literal notranslate"><span class="pre">B</span></code> dataset.</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;lookup&quot;,</span> <span class="pre">&quot;bar&quot;]</span></code></div>
<div class="line"><br /></div>
<div class="line">Looks up the <code class="docutils literal notranslate"><span class="pre">bar</span></code> entity in the current dataset.</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;lookup&quot;,</span></code></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;list&quot;,</span> <span class="pre">&quot;A&quot;,</span> <span class="pre">&quot;B&quot;],</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;list&quot;,</span> <span class="pre">&quot;bar&quot;,</span> <span class="pre">&quot;baz&quot;,</span></code></div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">&quot;~rsesam:C/foo&quot;,</span> <span class="pre">&quot;~rsesam:D/quux&quot;]</span></code></div>
<div class="line"><br /></div>
</div>
</div>
<div class="line">Looks up the <code class="docutils literal notranslate"><span class="pre">bar</span></code> and <code class="docutils literal notranslate"><span class="pre">baz</span></code> entities in the <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> datasets.
<code class="docutils literal notranslate"><span class="pre">foo</span></code> is looked up in the <code class="docutils literal notranslate"><span class="pre">C</span></code> dataset and <code class="docutils literal notranslate"><span class="pre">quux</span></code> in the <code class="docutils literal notranslate"><span class="pre">D</span></code>
dataset because they are explicit entity references.</div>
</div>
</td>
</tr>
<tr class="row-odd" id="reference-dtl-function"><td><p><code class="docutils literal notranslate"><span class="pre">reference</span></code></p></td>
<td><div class="line-block">
<div class="line"><em>Arguments:</em></div>
<div class="line-block">
<div class="line">DATASET_ID(string{1})</div>
<div class="line">ENTITY_IDS(value-expression{})</div>
<div class="line"><br /></div>
</div>
<div class="line">Returns a URI that can be used to reference entities in the given
dataset. The DATASET_ID and ENTITY_IDS parts will be URI path
encoded. URIs of this type can be resolved using the <code class="docutils literal notranslate"><span class="pre">lookup</span></code> function.</div>
</div>
</td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;reference&quot;,</span> <span class="pre">&quot;foo&quot;,</span> <span class="pre">&quot;bar&quot;]</span></code></div>
<div class="line"><br /></div>
<div class="line">Returns <code class="docutils literal notranslate"><span class="pre">&quot;~rsesam:foo/bar&quot;</span></code> (which is a value of the URI datatype)).</div>
<div class="line"><br /></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">[&quot;reference&quot;,</span> <span class="pre">&quot;foo&quot;,</span> <span class="pre">[&quot;list&quot;,</span> <span class="pre">&quot;a&quot;,</span> <span class="pre">&quot;b&quot;]]</span></code></div>
<div class="line"><br /></div>
<div class="line">Returns <code class="docutils literal notranslate"><span class="pre">[&quot;~rsesam:foo/a&quot;,</span> <span class="pre">&quot;~rsesam:foo/b&quot;]</span></code>.</div>
<div class="line"><br /></div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sources">
<h2>Sources<a class="headerlink" href="#sources" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-kafka-source">
<span id="kafka-source"></span><h3>The Kafka source<a class="headerlink" href="#the-kafka-source" title="Permalink to this headline">¶</a></h3>
<p>The Kafka source consumes data from a Kafka topic. The consumer stores the offset in the pipe, and does not commit the consumer offset back to Kafka.</p>
<p>The entities emitted from this source has offset, partition, timestamp, value and key as properties. Message keys in Kafka can be any bytes, but the source will try to utf-8 decode the key and add that as the <code class="docutils literal notranslate"><span class="pre">_id</span></code> property.</p>
<div class="section" id="prototype">
<h4>Prototype<a class="headerlink" href="#prototype" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;kafka&quot;</span><span class="p">,</span>
    <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;kafka-system-id&quot;</span><span class="p">,</span>
    <span class="s2">&quot;topic&quot;</span><span class="p">:</span> <span class="s2">&quot;some-topic&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="properties">
<h4>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Req</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">system</span></code></p></td>
<td><p>String</p></td>
<td><p>The id of the <a class="reference internal" href="#kafka-system"><span class="std std-ref">Kafka System</span></a> component to use.</p></td>
<td></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">topic</span></code></p></td>
<td><p>String</p></td>
<td><p>The topic to consume from.</p></td>
<td></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">partitions</span></code></p></td>
<td><p>List&lt;Integer&gt;</p></td>
<td><p>Manual assignment of partitions if only a subset of the topic is to be consumed by this pipe. In Azure Event Hubs this property
has to be set for assignment to work for now.</p></td>
<td><p>&lt;All&gt;</p></td>
<td><p>No (Yes for Event Hubs)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">seek_to_beginning</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>If the consumer should start from the beginning of the topic or only consume new messages. This only applies to the first run,
subsequent runs will continue where it left off unless the pipe is reset.</p></td>
<td><p>false</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ignore_null_keys</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>If the consumer should drop messages that does not have keys.</p></td>
<td><p>true</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">consumer_timeout_ms</span></code></p></td>
<td><p>Integer</p></td>
<td><p>The pipe will consume all available messages from the topic. Once all messages has been consumed it will wait for this period of
time until it will complete. Note that for topics that receives new messages more often than this interval the pipe will never
complete.</p></td>
<td><p>60000</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="example-configuration">
<h4>Example configuration<a class="headerlink" href="#example-configuration" title="Permalink to this headline">¶</a></h4>
<p>The outermost object would be your <a class="reference internal" href="configuration.html#pipe-section"><span class="std std-ref">pipe</span></a>
configuration, which is omitted here for brevity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;kafka&quot;</span><span class="p">,</span>
        <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;my-kafka&quot;</span><span class="p">,</span>
        <span class="s2">&quot;consumer_timeout_ms&quot;</span><span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>
        <span class="s2">&quot;ignore_null_keys&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
        <span class="s2">&quot;partitions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="s2">&quot;seek_to_beginning&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;topic&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="transforms">
<h2>Transforms<a class="headerlink" href="#transforms" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-properties-to-curies-transform">
<span id="properties-to-curies"></span><h3>The properties to CURIEs transform<a class="headerlink" href="#the-properties-to-curies-transform" title="Permalink to this headline">¶</a></h3>
<p>This transform can transform entity properties to <a class="reference external" href="https://www.w3.org/TR/curie/">RDF CURIEs</a> (a superset of <a class="reference external" href="https://en.wikipedia.org/wiki/QName">XML QNames</a>)
based on wildcard patterns. It is used primarily when dealing with or preparing to output
<a class="reference external" href="https://www.w3.org/RDF/">RDF</a> data. Note that URL quoting is applied to the property names
as part of the transform. Also note that by default the path separator character (“/) is not quoted, but the behaviour
is configurable.</p>
<div class="section" id="id2">
<h4>Prototype<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;properties_to_curies&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rule&quot;</span><span class="p">:</span> <span class="s2">&quot;rdf-registry-entry&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quote_safe_characters&quot;</span><span class="p">:</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;optional-id-prefix&quot;</span><span class="p">,</span>
    <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;optional_some_prefix&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;optional_some_pattern&quot;</span><span class="p">]</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h4>Properties<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Req</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">rule</span></code></p></td>
<td><p>String</p></td>
<td><p>The id of the key in the <a class="reference internal" href="#rdf-registry"><span class="std std-ref">RDF registry</span></a> containing the prefix rules to to use for the transformation.
See <a class="reference internal" href="rdf-support.html"><span class="doc">RDF support</span></a> for more information about the RDF registry and how to configure it.</p></td>
<td></td>
<td><p>Yes*</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">quote_safe_characters</span></code></p></td>
<td><p>String</p></td>
<td><p>A string of characters that should be treated as “safe” from URL quoting by the transform. By default this is
the slash character (“/”).  If this property is set to the empty string (“”), all characters of the property name
will be URL quoted. This property can also be set at the RDF registry level, but this value will be overridden
if set directly on the transform configuration.</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">id</span></code></p></td>
<td><p>String</p></td>
<td><p>The prefix to use for <code class="docutils literal notranslate"><span class="pre">_id</span></code> properties</p></td>
<td></td>
<td><p>Yes*</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">properties</span></code></p></td>
<td><p>List&lt;(String, List&lt;String&gt;)&gt;</p></td>
<td><p>A list of String,List pairs that make up the rules for which properties should be assigned which prefixes.
See the example section below for a fuller explanation of this property.</p></td>
<td></td>
<td><p>Yes*</p></td>
</tr>
</tbody>
</table>
<p>Note that <code class="docutils literal notranslate"><span class="pre">rule</span></code> and <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">properties</span></code> are mutually exclusive. If all three are present,
<code class="docutils literal notranslate"><span class="pre">rule</span></code> is given precedence and <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">properties</span></code> are ignored.</p>
</div>
<div class="section" id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">rule</span></code> property references a <a class="reference internal" href="#rdf-registry"><span class="std std-ref">RDF registry entry</span></a> containing a <code class="docutils literal notranslate"><span class="pre">prefix_rules</span></code> object.
See <a class="reference internal" href="rdf-support.html"><span class="doc">RDF support</span></a> for more information about the RDF registry and how to configure it.
Alternatively, the contents of the <code class="docutils literal notranslate"><span class="pre">prefix_rules</span></code> entry (i.e. .the <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">properties</span></code>) can be included inline
in the transform configuration.</p>
<p>Given a pre-existing RDF registry entry <code class="docutils literal notranslate"><span class="pre">my_entry</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;my_entry&quot;</span><span class="p">:</span> <span class="p">{</span>
   <span class="o">..</span>
   <span class="s2">&quot;prefix_rules&quot;</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span>
       <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span>
            <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">],</span>
            <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;t_*&quot;</span><span class="p">],</span>
            <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="s2">&quot;m*&quot;</span><span class="p">],</span>
            <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">],</span>
            <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;**&quot;</span><span class="p">]</span>
       <span class="p">]</span>
   <span class="p">}</span>
   <span class="o">..</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And a transform configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;properties_to_curies&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rule&quot;</span><span class="p">:</span> <span class="s2">&quot;my_entry&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And the input entity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;foo/bar&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
    <span class="s2">&quot;born&quot;</span><span class="p">:</span> <span class="s2">&quot;1980-01-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;AB32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;t_a&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;a/b&quot;</span><span class="p">:</span> <span class="s2">&quot;A/B&quot;</span><span class="p">,</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;married&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;spouse&quot;</span><span class="p">:</span> <span class="s2">&quot;Pam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
        <span class="s2">&quot;t_b&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;t_c&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
            <span class="s2">&quot;hello&quot;</span><span class="p">:</span> <span class="s2">&quot;world&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&lt;s:hi&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;bye&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The transform will output the following transformed entity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;x:foo/bar&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;x:name&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;x:born&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;1980-01-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;x:code&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;AB32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;t:t_a&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;x:a/b&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;_:status&gt;&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;&lt;m:married&gt;&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;&lt;s:spouse&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;Pam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;&lt;c:code&gt;&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
        <span class="s2">&quot;&lt;t:t_b&gt;&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;&lt;t:t_c&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&lt;s:hello&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;world&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&lt;s:hi&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;bye&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Setting <code class="docutils literal notranslate"><span class="pre">quote_safe_characters</span></code> to “” would instead yield:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;x:foo</span><span class="si">%2F</span><span class="s2">bar&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;x:name&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;x:born&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;1980-01-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;x:code&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;AB32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;t:t_a&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;x:a</span><span class="si">%2F</span><span class="s2">b&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;_:status&gt;&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;&lt;m:married&gt;&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;&lt;s:spouse&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;Pam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;&lt;c:code&gt;&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
        <span class="s2">&quot;&lt;t:t_b&gt;&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;&lt;t:t_c&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&lt;s:hello&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;world&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&lt;s:hi&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;bye&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Notice that now “/” has also been URL quoted (“%2F”)</p>
</div>
</div>
<div class="section" id="the-uris-to-curies-transform">
<span id="uris-to-curies-transform"></span><h3>The URIs to CURIEs transform<a class="headerlink" href="#the-uris-to-curies-transform" title="Permalink to this headline">¶</a></h3>
<p>This transform can transform entity properties containing URIs in the keys and/or the values to a more compact form
using <a class="reference external" href="https://www.w3.org/TR/curie/">RDF CURIEs</a> (a superset of <a class="reference external" href="https://en.wikipedia.org/wiki/QName">XML QNames</a>).
It is used primarily when dealing with or reading RDF data. See the <a class="reference internal" href="rdf-support.html"><span class="doc">Working with RDF</span></a> document for more information
about working with <a class="reference external" href="https://www.w3.org/TR/2004/REC-rdf-primer-20040210/">RDF</a> data in Sesam.</p>
<div class="section" id="id5">
<h4>Prototype<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;uris_to_curies&quot;</span><span class="p">,</span>
    <span class="s2">&quot;prefix_includes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;entry1&quot;</span><span class="p">,</span> <span class="s2">&quot;entry2&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h4>Properties<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Req</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">prefix_includes</span></code></p></td>
<td><p>List&lt;String&gt;</p></td>
<td><p>A list of string keys to look up in the instance-wide <a class="reference internal" href="#rdf-registry"><span class="std std-ref">RDF registry</span></a>. These keys reference
objects which contain RDF support structures such as CURIE prefixes (and possibly references to other prefix
sets to include).
The prefixes collected from the RDF registry will be used to compress full URIs to CURIEs.
See <a class="reference internal" href="rdf-support.html"><span class="doc">RDF support</span></a> for more information about the RDF registry and how to configure it.
The <a class="reference internal" href="#built-in-prefixes"><span class="std std-ref">common RDF prefixes</span></a> are built-in and you don’t have to provide the mapping for it
(i.e. RDF, RDFS, OWL etc).</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id7">
<h4>Example<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>Given the configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;transform&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
         <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;uris_to_curies&quot;</span><span class="p">,</span>
         <span class="s2">&quot;prefix_includes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;my_entry&quot;</span><span class="p">]</span>
       <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The RDF registry entry:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;my_entry&quot;</span><span class="p">:</span> <span class="p">{</span>
   <span class="s2">&quot;prefixes&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;http://psi.foo.com/&quot;</span>
      <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="s2">&quot;http://psi.test.com/&quot;</span>
   <span class="p">}</span>
   <span class="o">..</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And the input entity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;http://psi.test.com/2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;http://psi.test.com/name&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
    <span class="s2">&quot;born&quot;</span><span class="p">:</span> <span class="s2">&quot;1980-01-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;http://psi.test.com/code&quot;</span><span class="p">:</span> <span class="s2">&quot;AB32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;http://psi.foo.com/married&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;spouse&quot;</span><span class="p">:</span> <span class="s2">&quot;Pam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;url1&quot;</span><span class="p">:</span> <span class="s2">&quot;~rhttp://www.foo.com&quot;</span><span class="p">,</span>
        <span class="s2">&quot;url2&quot;</span><span class="p">:</span> <span class="s2">&quot;~rhttp://psi.foo.com/url2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
        <span class="s2">&quot;child&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;t_c&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
            <span class="s2">&quot;http://psi.test.com/hello&quot;</span><span class="p">:</span> <span class="s2">&quot;http://psi.foo.com/world&quot;</span><span class="p">,</span>
            <span class="s2">&quot;http://psi.tests.com/s&quot;</span><span class="p">:</span> <span class="s2">&quot;bye&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The transform will output the following compact/”compressed” transformed entity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;test:2&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;test:name&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
    <span class="s2">&quot;born&quot;</span><span class="p">:</span> <span class="s2">&quot;1980-01-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;test:code&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;AB32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;&lt;foo:married&gt;&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;spouse&quot;</span><span class="p">:</span> <span class="s2">&quot;Pam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
        <span class="s2">&quot;url1&quot;</span><span class="p">:</span> <span class="s2">&quot;~rhttp://www.foo.com&quot;</span><span class="p">,</span>
        <span class="s2">&quot;url2&quot;</span><span class="p">:</span> <span class="s2">&quot;~rfoo:url2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;child&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;t_c&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&lt;test:hello&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;foo:world&gt;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;http://psi.tests.com/s&quot;</span><span class="p">:</span> <span class="s2">&quot;bye&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the transform will not attempt to unquote the remainder elements after the matched prefixes.</p>
</div>
</div>
<div class="section" id="the-lower-keys-transform">
<span id="lower-keys-transform"></span><h3>The lower keys transform<a class="headerlink" href="#the-lower-keys-transform" title="Permalink to this headline">¶</a></h3>
<p>This transform transforms all the keys of an entity to lower case (optionally recursively).</p>
<div class="section" id="id8">
<h4>Prototype<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;lower_keys&quot;</span><span class="p">,</span>
    <span class="s2">&quot;recurse&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h4>Properties<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Req</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">recurse</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>An optional flag to indicate whether to do the case conversion recursively or not (default is false, which means
no recursion).</p></td>
<td><p>false</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id10">
<h4>Example<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<p>With the default transform configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;lower_keys&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And given the the input entity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;http://psi.test.com/2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Born&quot;</span><span class="p">:</span> <span class="s2">&quot;1980-01-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CODE&quot;</span><span class="p">:</span> <span class="s2">&quot;AB32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;http://psi.foo.com/married&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;Spouse&quot;</span><span class="p">:</span> <span class="s2">&quot;Pam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;URL1&quot;</span><span class="p">:</span> <span class="s2">&quot;~rhttp://www.foo.com&quot;</span><span class="p">,</span>
        <span class="s2">&quot;URL2&quot;</span><span class="p">:</span> <span class="s2">&quot;~rhttp://psi.foo.com/url2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CODE&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
        <span class="s2">&quot;Child&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;t_c&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
            <span class="s2">&quot;http://psi.test.com/hello&quot;</span><span class="p">:</span> <span class="s2">&quot;http://psi.foo.com/world&quot;</span><span class="p">,</span>
            <span class="s2">&quot;http://psi.tests.com/S&quot;</span><span class="p">:</span> <span class="s2">&quot;bye&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The transform will output the following transformed entity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;http://psi.test.com/2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;born&quot;</span><span class="p">:</span> <span class="s2">&quot;1980-01-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;AB32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;http://psi.foo.com/married&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;Spouse&quot;</span><span class="p">:</span> <span class="s2">&quot;Pam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;URL1&quot;</span><span class="p">:</span> <span class="s2">&quot;~rhttp://www.foo.com&quot;</span><span class="p">,</span>
        <span class="s2">&quot;URL2&quot;</span><span class="p">:</span> <span class="s2">&quot;~rhttp://psi.foo.com/url2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;CODE&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
        <span class="s2">&quot;Child&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;t_c&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
            <span class="s2">&quot;http://psi.test.com/hello&quot;</span><span class="p">:</span> <span class="s2">&quot;http://psi.foo.com/world&quot;</span><span class="p">,</span>
            <span class="s2">&quot;http://psi.tests.com/S&quot;</span><span class="p">:</span> <span class="s2">&quot;bye&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that only the root keys are transformed. If the <code class="docutils literal notranslate"><span class="pre">recurse</span></code> property is set to <code class="docutils literal notranslate"><span class="pre">true</span></code> in the configuration,
however, the result would instead become:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;http://psi.test.com/2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;born&quot;</span><span class="p">:</span> <span class="s2">&quot;1980-01-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;AB32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;http://psi.foo.com/married&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
        <span class="s2">&quot;spouse&quot;</span><span class="p">:</span> <span class="s2">&quot;Pam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;url1&quot;</span><span class="p">:</span> <span class="s2">&quot;~rhttp://www.foo.com&quot;</span><span class="p">,</span>
        <span class="s2">&quot;url2&quot;</span><span class="p">:</span> <span class="s2">&quot;~rhttp://psi.foo.com/url2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
        <span class="s2">&quot;child&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;t_c&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
            <span class="s2">&quot;http://psi.test.com/hello&quot;</span><span class="p">:</span> <span class="s2">&quot;http://psi.foo.com/world&quot;</span><span class="p">,</span>
            <span class="s2">&quot;http://psi.tests.com/s&quot;</span><span class="p">:</span> <span class="s2">&quot;bye&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-upper-keys-transform">
<span id="upper-keys-transform"></span><h3>The upper keys transform<a class="headerlink" href="#the-upper-keys-transform" title="Permalink to this headline">¶</a></h3>
<p>This transform transforms all the keys of an entity to upper case (optionally recursively).
The transform mirrors the <a class="reference internal" href="#lower-keys-transform"><span class="std std-ref">lower case transform</span></a> exactly except for the keys being
transformed to upper case. See previous section for details.</p>
</div>
<div class="section" id="the-undirected-graph-transform">
<span id="undirected-graph-transform"></span><h3>The undirected graph transform<a class="headerlink" href="#the-undirected-graph-transform" title="Permalink to this headline">¶</a></h3>
<p>The undirected graph transform transforms a list of properties representing nodes in a graph into all its
possible sets of edges, forming a complete graph. The transform will generate all possible edges in the
graph, which will be twice the number of entities as there are values in the aggregate of the list of properties given.
See the example section for an example.</p>
<div class="section" id="id11">
<h4>Prototype<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;undirected_graph&quot;</span><span class="p">,</span>
    <span class="s2">&quot;nodes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">,</span> <span class="s2">&quot;sameAs&quot;</span><span class="p">],</span>
    <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;from-property&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;to-property&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h4>Properties<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Req</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">nodes</span></code></p></td>
<td><p>List&lt;String&gt;</p></td>
<td><p>A list of entity property names that should be used to pick the nodes of the graph. The properties must refer
to a value that is either a string or a URI, or a list of strings or URIs. No other value types are allowed in
the transform.</p></td>
<td><p>[“_id”, “sameAs”]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">from</span></code></p></td>
<td><p>String</p></td>
<td><p>The name of the property to use as “from” point in the generated entity for an edge in the graph.</p></td>
<td><p>“from”</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">to</span></code></p></td>
<td><p>String</p></td>
<td><p>The name of the property to use as the “to” point in the generated entity for an edge in the graph.</p></td>
<td><p>“to”</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id13">
<h4>Example<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<p>Given the configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;transform&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
         <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;undirected_graph&quot;</span><span class="p">,</span>
         <span class="s2">&quot;nodes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">,</span> <span class="s2">&quot;map&quot;</span><span class="p">],</span>
         <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;from&quot;</span><span class="p">,</span>
         <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;to&quot;</span>
       <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And the input entity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
   <span class="s2">&quot;map&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;zoo&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The transform will output the following edges of the graph as entities on its output stream:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;foo.bar&quot;</span><span class="p">,</span>
    <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;foo.zoo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;zoo&quot;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bar.foo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;bar.zoo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;zoo&quot;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;zoo.foo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;zoo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span>
<span class="p">}</span>

<span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;zoo.bar&quot;</span><span class="p">,</span>
    <span class="s2">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;zoo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="sinks">
<h2>Sinks<a class="headerlink" href="#sinks" title="Permalink to this headline">¶</a></h2>
<div class="section" id="deprecated-properties">
<h3>Deprecated Properties<a class="headerlink" href="#deprecated-properties" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">prefix_includes</span></code> property has been deprecated for the <a class="reference internal" href="configuration.html#sparql-sink"><span class="std std-ref">sparql</span></a>, <a class="reference internal" href="configuration.html#sdshare-sink"><span class="std std-ref">sdshare</span></a>, <a class="reference internal" href="configuration.html#databrowser-sink"><span class="std std-ref">databrowser</span></a>, and <a class="reference internal" href="configuration.html#http-endpoint-sink"><span class="std std-ref">http_endpoint</span></a> sinks.</p>
<table class="colwidths-given table">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Req</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">prefix_includes</span></code></p></td>
<td><p>List&lt;String&gt;</p></td>
<td><p>A list of string keys to look up in the node-wide <a class="reference internal" href="#rdf-registry"><span class="std std-ref">RDF registry</span></a>. These keys reference objects which contain
RDF support structures such as CURIE prefixes (and possibly references to other prefix sets to include).
The prefixes collected from the RDF registry will be used to expand CURIEs into full URIs.
See <a class="reference internal" href="rdf-support.html"><span class="doc">RDF support</span></a> for more information about the RDF registry and how to configure it.
You do not need include any prefix sets to use the <a class="reference internal" href="#built-in-prefixes"><span class="std std-ref">common RDF prefixes</span></a> (i.e. RDF,
RDFS, OWL and so on).</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-kafka-sink">
<span id="kafka-sink"></span><h3>The Kafka sink<a class="headerlink" href="#the-kafka-sink" title="Permalink to this headline">¶</a></h3>
<p>The Kafka sink produces data to a Kafka topic.</p>
<p>Entities sent to this sink will use the key, value and partition properties if present, otherwise the key will be utf-8 encoded version of <code class="docutils literal notranslate"><span class="pre">_id</span></code> and the value will be the entire entity. If partition is not specified, the partitioning will be based on the key.</p>
<p>The properties used matches the properties emitted by the <a class="reference internal" href="#kafka-source"><span class="std std-ref">Kafka source</span></a>. This means that it should be possible to consume a topic and produce to a new topic in a pipe with no DTL.</p>
<p>The sink will flush to Kafka after every batch.</p>
<div class="section" id="id14">
<h4>Prototype<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;kafka&quot;</span><span class="p">,</span>
    <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;kafka-system-id&quot;</span><span class="p">,</span>
    <span class="s2">&quot;topic&quot;</span><span class="p">:</span> <span class="s2">&quot;some-topic&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id15">
<h4>Properties<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Req</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">system</span></code></p></td>
<td><p>String</p></td>
<td><p>The id of the <a class="reference internal" href="#kafka-system"><span class="std std-ref">Kafka System</span></a> component to use.</p></td>
<td></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">topic</span></code></p></td>
<td><p>String</p></td>
<td><p>The topic to send to.</p></td>
<td></td>
<td><p>Yes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id16">
<h4>Example configuration<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<p>The outermost object would be your <a class="reference internal" href="configuration.html#pipe-section"><span class="std std-ref">pipe</span></a>
configuration, which is omitted here for brevity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;sink&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;kafka&quot;</span><span class="p">,</span>
        <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;my-kafka&quot;</span><span class="p">,</span>
        <span class="s2">&quot;topic&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="systems">
<h2>Systems<a class="headerlink" href="#systems" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-kafka-system">
<span id="kafka-system"></span><h3>The Kafka system<a class="headerlink" href="#the-kafka-system" title="Permalink to this headline">¶</a></h3>
<p>This system can be used to read and write data from <a class="reference external" href="https://kafka.apache.org">Apache Kafka</a> as well as <a class="reference external" href="https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-for-kafka-ecosystem-overview">Azure Event Hubs for Apache Kafka</a>.</p>
<div class="section" id="id17">
<h4>Prototype<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;id-of-system&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of system&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;system:kafka&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bootstrap_servers&quot;</span><span class="p">:</span> <span class="s2">&quot;localhost:9092,otherhost:9092&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id18">
<h4>Properties<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<table class="colwidths-given table">
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 65%" />
<col style="width: 11%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Req</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bootstrap_servers</span></code></p></td>
<td><p>String</p></td>
<td><p>Comma separated list of bootstrap servers with hostname and port. For Azure Event Hubs this should be set to <code class="docutils literal notranslate"><span class="pre">&lt;fqdn&gt;:9093</span></code>.</p></td>
<td></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sasl_username</span></code></p></td>
<td><p>String</p></td>
<td><p>Username to use when authentication against a SASL enabled Kafka cluster. If username is set, authentication will be performed.
For Azure Event Hubs this property must be set to <code class="docutils literal notranslate"><span class="pre">$ConnectionString</span></code> and the connection string should be passed as the
password.</p></td>
<td></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sasl_password</span></code></p></td>
<td><p>String</p></td>
<td><p>Password to use when authentication against a SASL enabled Kafka cluster. For Azure Event Hubs this should be set to <code class="docutils literal notranslate"><span class="pre">Endpoint=sb://[...]</span></code>.</p></td>
<td></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="the-rdf-registry">
<span id="rdf-registry"></span><h2>The RDF registry<a class="headerlink" href="#the-rdf-registry" title="Permalink to this headline">¶</a></h2>
<p>When working with RDF data in Sesam, we would like to be able to define, maintain and share these RDF prefixes
among our datasets and DTL transforms. For this purpose Sesam has a built-in <em>RDF registry</em>.
You can configure the registry by including an entity in your configuration on the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;node&quot;</span>
   <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;metadata&quot;</span><span class="p">,</span>
   <span class="s2">&quot;rdf&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;dataset1&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;prefixes&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/foo/&quot;</span><span class="p">,</span>
              <span class="s2">&quot;foo_schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/foo/schema/&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;prefix_rules&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
              <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">[</span>
                  <span class="s2">&quot;foo_schema&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;**&quot;</span><span class="p">]</span>
              <span class="p">]</span>
          <span class="p">}</span>
      <span class="p">},</span>
      <span class="s2">&quot;dataset2&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;prefixes&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/bar/&quot;</span><span class="p">,</span>
              <span class="s2">&quot;bar_schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/bar/schema/&quot;</span>
          <span class="p">},</span>
          <span class="s2">&quot;prefix_includes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;dataset1&quot;</span><span class="p">],</span>
          <span class="s2">&quot;quote_safe_characters&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
          <span class="s2">&quot;prefix_rules&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span>
              <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">[</span>
                  <span class="s2">&quot;foo_schema&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;some_prop&quot;</span><span class="p">],</span>
                  <span class="s2">&quot;bar_schema&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;**&quot;</span><span class="p">]</span>
              <span class="p">]</span>
          <span class="p">}</span>
      <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The root key <code class="docutils literal notranslate"><span class="pre">rdf</span></code> above contains the entire configuration of the RDF registry. Its sub-keys will usually correspond
to dataset ids, although you can register any valid key here.</p>
<div class="section" id="rdf-registry-items">
<h3>RDF registry items<a class="headerlink" href="#rdf-registry-items" title="Permalink to this headline">¶</a></h3>
<p>The “prototype” of a RDF registry entry <code class="docutils literal notranslate"><span class="pre">entry_id</span></code> look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span>
<span class="s2">&quot;entry_id&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;prefixes&quot;</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">&quot;foo&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://example.com/foo/&quot;</span><span class="p">,</span>
       <span class="s2">&quot;baz&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://example.com/baz/&quot;</span><span class="p">,</span>
       <span class="s2">&quot;bar&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://example.com/baz/&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;prefix_includes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;list_of&quot;</span><span class="p">,</span> <span class="s2">&quot;other&quot;</span><span class="p">,</span> <span class="s2">&quot;registry&quot;</span><span class="p">,</span> <span class="s2">&quot;entries&quot;</span><span class="p">],</span>
    <span class="s2">&quot;prefix_rules&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;some_prop&quot;</span><span class="p">],</span>
            <span class="s2">&quot;baz&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;**&quot;</span><span class="p">]</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;quote_safe_characters&quot;</span><span class="p">:</span> <span class="s2">&quot;/æåø&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">quote_safe_characters</span></code> is an optional property of the RDF registry entity. If specified, it should
contains a string of characters that should be excluded from URL quoting when constructing CURIEs. It can also be
specified on the <a class="reference internal" href="#properties-to-curies"><span class="std std-ref">properties to CURIEs transform</span></a> where, if specified, will take precedence
over any value it might have in the RDF registry entry. This property defaults to “/” and would normally not need
to be changed. A value of “” (the emtpy string) means “quote all characters”. See below for more detail on the use of
this transform.</p>
<div class="section" id="prefixes">
<h4>Prefixes<a class="headerlink" href="#prefixes" title="Permalink to this headline">¶</a></h4>
<p>Each registry item must contain at least a single property <code class="docutils literal notranslate"><span class="pre">prefixes</span></code> which is a object containing prefix
to URI mappings for CURIE generation or expansion. The registry items can also contain a list property <code class="docutils literal notranslate"><span class="pre">prefix_includes</span></code>
which must be references to other existing RDF registry keys. When looking up items in the RDF registry, any prefix elements
in this list will be recursively included. Take care that you don’t have overlapping prefix names, as the final result
will be undefined. Also make sure you don’t create circular references using this property.</p>
</div>
<div class="section" id="built-in-prefixes">
<span id="id19"></span><h4>Built-in prefixes<a class="headerlink" href="#built-in-prefixes" title="Permalink to this headline">¶</a></h4>
<p>The Sesam RDF registry has built-in support for the common prefixes in RDF, such as <code class="docutils literal notranslate"><span class="pre">rdf</span></code>, <code class="docutils literal notranslate"><span class="pre">rdfs</span></code> and <code class="docutils literal notranslate"><span class="pre">owl</span></code>.
This means you don’t have to define these yourself to use them in your CURIEs. The full list of built-in prefixes is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.org/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rdf&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;</span><span class="p">,</span>
    <span class="s2">&quot;rdfs&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/2000/01/rdf-schema#&quot;</span><span class="p">,</span>
    <span class="s2">&quot;owl&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/2002/07/owl#&quot;</span><span class="p">,</span>
    <span class="s2">&quot;xsd&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/2001/XMLSchema#&quot;</span><span class="p">,</span>
    <span class="s2">&quot;skos&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/2004/02/skos/core#&quot;</span><span class="p">,</span>
    <span class="s2">&quot;foaf&quot;</span><span class="p">:</span> <span class="s2">&quot;http://xmlns.com/foaf/0.1/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;wgs84&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/2003/01/geo/wgs84_pos#&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dc&quot;</span><span class="p">:</span> <span class="s2">&quot;http://purl.org/dc/elements/1.1/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dcterms&quot;</span><span class="p">:</span> <span class="s2">&quot;http://purl.org/dc/terms/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;gs&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.opengis.net/ont/geosparql#&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The “_” prefix is used in general as a fallback if no prefix is defined for a property when mapping an entity
to its RDF representation.</p>
</div>
<div class="section" id="prefix-rules">
<h4>Prefix rules<a class="headerlink" href="#prefix-rules" title="Permalink to this headline">¶</a></h4>
<p>The final property that can exist in a RDF registry item is <code class="docutils literal notranslate"><span class="pre">prefix_rules</span></code>. This element tells us how to create RDF
CURIEs from a plain entity: the <code class="docutils literal notranslate"><span class="pre">id</span></code> property contains the prefix to use for the <code class="docutils literal notranslate"><span class="pre">_id</span></code> property of the entity
(i.e. the subject in RDF) and the <code class="docutils literal notranslate"><span class="pre">properties</span></code> property is a list of property pairs that encode the rules for what
prefix to apply to which property of the entity.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">properties</span></code> format is tuples of string/list pairs, where the first item is the prefix to add and the second is
the path expression that is used to match against. The number of elements in the list must be even. Path expressions
are evaluated in order and the first matching path expression will win, so if a path expression matches the prefix will
be assigned to the matching key.</p>
<p>A path expression is a list of strings. The left-most string value is the most specific. <code class="docutils literal notranslate"><span class="pre">**</span></code> can be used to denote
nestedness at an arbitrary depth. <code class="docutils literal notranslate"><span class="pre">*</span></code> can be used as a wildcard in the string values themselves.</p>
</div>
<div class="section" id="the-property-to-curie-transform">
<span id="the-properties-to-curie-transform-local"></span><h4>The property to CURIE transform<a class="headerlink" href="#the-property-to-curie-transform" title="Permalink to this headline">¶</a></h4>
<p>A complete example of how the <code class="docutils literal notranslate"><span class="pre">prefix_rules</span></code> property works; we want to transform an entity that looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
    <span class="s2">&quot;born&quot;</span><span class="p">:</span> <span class="s2">&quot;1980-01-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;AB32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;t_a&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;married&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s2">&quot;spouse&quot;</span><span class="p">:</span> <span class="s2">&quot;Pam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
        <span class="s2">&quot;t_b&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;t_c&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
            <span class="s2">&quot;hello&quot;</span><span class="p">:</span> <span class="s2">&quot;world&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&lt;s:hi&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;bye&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>to RDF form using CURIEs. We start by defining the rules for this transformation in the RDF registry entry <code class="docutils literal notranslate"><span class="pre">my_entry</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;my_entry&quot;</span><span class="p">:</span> <span class="p">{</span>
   <span class="o">..</span>
   <span class="s2">&quot;prefix_rules&quot;</span><span class="p">:</span> <span class="p">{</span>
       <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span>
       <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;code&quot;</span><span class="p">],</span>
            <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">],</span>
            <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;t_*&quot;</span><span class="p">],</span>
            <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">,</span> <span class="s2">&quot;m*&quot;</span><span class="p">],</span>
            <span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="s2">&quot;**&quot;</span><span class="p">],</span>
            <span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;**&quot;</span><span class="p">]</span>
       <span class="p">]</span>
   <span class="p">}</span>
   <span class="o">..</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We then add a <a class="reference internal" href="#properties-to-curies"><span class="std std-ref">properties to CURIEs transform</span></a> to the start of our pipe’s
<code class="docutils literal notranslate"><span class="pre">transform</span></code> section:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span>
    <span class="s2">&quot;transform&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;properties_to_curies&quot;</span><span class="p">,</span>
            <span class="s2">&quot;rule&quot;</span><span class="p">:</span> <span class="s2">&quot;my_entry&quot;</span>
        <span class="p">}</span>
        <span class="o">..</span>
    <span class="p">]</span>
</pre></div>
</div>
<p>This transform will use our <code class="docutils literal notranslate"><span class="pre">my_entry</span></code> rules and produce the following transformed entity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;x:2&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;x:name&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;x:born&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;1980-01-23&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;x:code&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;AB32&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;t:t_a&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;A&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;_:status&gt;&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;&lt;m:married&gt;&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s2">&quot;&lt;s:spouse&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;Pam&quot;</span><span class="p">,</span>
        <span class="s2">&quot;&lt;c:code&gt;&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
        <span class="s2">&quot;&lt;t:t_b&gt;&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;&lt;t:t_c&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&lt;s:hello&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;world&quot;</span><span class="p">,</span>
            <span class="s2">&quot;&lt;s:hi&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;bye&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="rdf-input">
<h2>RDF input<a class="headerlink" href="#rdf-input" title="Permalink to this headline">¶</a></h2>
<p>Sesam supports RDF input from several different sources:</p>
<ul class="simple">
<li><p><a class="reference internal" href="configuration.html#rdf-source"><span class="std std-ref">The RDF source</span></a></p></li>
<li><p><a class="reference internal" href="configuration.html#sdshare-source"><span class="std std-ref">The SDShare source</span></a></p></li>
<li><p><a class="reference internal" href="configuration.html#sparql-source"><span class="std std-ref">The SPARQL source</span></a></p></li>
</ul>
<p>Additionally, you can set up a <a class="reference internal" href="configuration.html#http-endpoint-source"><span class="std std-ref">HTTP endpoint source</span></a> which includes a <cite>SDShare Push</cite> capable
HTTP endpoint where you can post RDF data in NTriples format in accordance with the <code class="docutils literal notranslate"><span class="pre">SDShare</span> <span class="pre">Push</span> <span class="pre">protocol</span></code>.</p>
<div class="section" id="id20">
<h3>The URIs to CURIEs transform<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<p>All of these methods of RDF input will provide entities to your data flows on the general form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;http://example.com/bar&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;http://example.com/schema/some_predicate&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;Some literal&quot;</span><span class="p">,</span>
    <span class="s2">&quot;&lt;http://example.com/schema/other_predicate&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;~rhttp://example.com/zoo&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When processing this data in the flow, we would like to first transform these entities to CURIE form using the
RDF registry to manage the prefixes. In the above example we can add a <a class="reference internal" href="#uris-to-curies-transform"><span class="std std-ref">URIs to CURIEs transform</span></a>
to the pipe to achieve this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;my-pipe&quot;</span><span class="p">,</span>
    <span class="o">..</span>
    <span class="s2">&quot;transform&quot;</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
         <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;uris_to_curies&quot;</span><span class="p">,</span>
         <span class="s2">&quot;prefix_includes&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;my_entry&quot;</span><span class="p">]</span>
       <span class="p">}</span>
    <span class="p">]</span>
</pre></div>
</div>
<p>where the corresponding <code class="docutils literal notranslate"><span class="pre">my_entry</span></code> in the RDF registry looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span>
<span class="s2">&quot;my_entry&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;prefixes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/&quot;</span><span class="p">,</span>
        <span class="s2">&quot;foo_schema&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/schema/&quot;</span>
    <span class="p">}</span>
    <span class="o">..</span>
<span class="p">}</span>
<span class="o">..</span>
</pre></div>
</div>
<p>This transform will then produce the following entity:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;foo:bar&gt;&quot;</span><span class="p">,</span>
   <span class="s2">&quot;&lt;foo_schema:some_predicate&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;Some literal&quot;</span><span class="p">,</span>
   <span class="s2">&quot;&lt;foo_schema:other_predicate&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;~rfoo:zoo&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="rdf-in-transforms">
<h2>RDF in transforms<a class="headerlink" href="#rdf-in-transforms" title="Permalink to this headline">¶</a></h2>
<p>The Sesam DTL language features several functions that are useful when working with RDF data in your flow.</p>
<div class="section" id="accessing-curies-properties">
<h3>Accessing CURIEs properties<a class="headerlink" href="#accessing-curies-properties" title="Permalink to this headline">¶</a></h3>
<p>When addressing properties in CURIEs form in DTL transform, you can simply use their names verbatim. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span>
<span class="p">[</span><span class="s2">&quot;rename&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;foo:third_predicate&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;foo:some_predicate&gt;&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;copy&quot;</span><span class="p">,</span> <span class="s2">&quot;_S.&lt;foo_schema:other_predicate&gt;&quot;</span><span class="p">],</span>
<span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;rdfs:label&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob&quot;</span><span class="p">]</span>
<span class="o">..</span>
</pre></div>
</div>
<p>You can also use the CURIEs in path expressions in the same way as any other property name. If you want to add a URI
literal as part of your transformed entity you can use the DTL <a class="reference internal" href="#curie-dtl-function"><span class="std std-ref">curie function</span></a>, which takes
a prefix and a value expression (i.e. a literal or a function) and produces a URI property value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span>
<span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;foo_schema:baz&gt;&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;curie&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;zoo&quot;</span><span class="p">]]</span>
<span class="o">..</span>
</pre></div>
</div>
<p>This will add a property that looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="o">..</span>
  <span class="s2">&quot;&lt;foo_schema:baz&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;~rfoo:zoo&quot;</span>
  <span class="o">..</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="curie-expansion-in-dtl">
<h3>CURIE expansion in DTL<a class="headerlink" href="#curie-expansion-in-dtl" title="Permalink to this headline">¶</a></h3>
<p>When processing RDF data in a flow, we sometimes would like to expand an entity or a child entity from CURIEs to full
URI form (for example if there are conflicting usages of prefixes). This can be done using the DTL
<a class="reference internal" href="#uri-expand-dtl-function"><span class="std std-ref">uri-expand</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span>
<span class="p">[</span><span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;baz:expanded&gt;&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;uri-expand&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;my_entry&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;foo:bob&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;foo:name&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob Jones&quot;</span><span class="p">}]]</span>
<span class="o">..</span>
</pre></div>
</div>
<p>This will expand the properties of the entity (here shown inline, but typically will be from a <a class="reference internal" href="DTLReferenceGuide.html#hops-dtl-function"><span class="std std-ref">hops</span></a> join or some
other function) to its “full” form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="o">..</span>
  <span class="s2">&quot;&lt;baz:expanded&gt;&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;http://example.com/foo/bob&gt;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;&lt;http://example.com/foo/name&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob Jones&quot;</span>
  <span class="p">}</span>
  <span class="o">..</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that expanding CURIEs is normally done at the endpoint of your flow (i.e. by the sink or a SDShare feed, see below).
However, if the sink you are using to output the final data is not RDF aware (i.e. supports automatic prefix expansion)
you can use the <code class="docutils literal notranslate"><span class="pre">uri-expand</span></code> function to achieve the same functionality.</p>
</div>
</div>
<div class="section" id="pipes">
<h2>Pipes<a class="headerlink" href="#pipes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="short-hand-configuration">
<h3>Short-hand configuration<a class="headerlink" href="#short-hand-configuration" title="Permalink to this headline">¶</a></h3>
<p>As mentioned earlier, in the <a class="reference internal" href="configuration.html#pipe-section"><span class="std std-ref">pipe section</span></a>, there is a special “short hand” configuration for
one of the most used pipes; pipes pumping entities from RDBMS tables to an internal dataset. Since this is an often
encountered usecase, we have condensed the information needed into a single url-style form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
       <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind&quot;</span><span class="p">,</span>
       <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;system:mysql&quot;</span><span class="p">,</span>
       <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind database&quot;</span><span class="p">,</span>
       <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;northwind&quot;</span><span class="p">,</span>
       <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">,</span>
       <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;mydb.example.org&quot;</span><span class="p">,</span>
       <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
       <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind:Orders&quot;</span><span class="p">,</span>
       <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;pipe&quot;</span><span class="p">,</span>
       <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Orders from northwind&quot;</span><span class="p">,</span>
       <span class="s2">&quot;short_config&quot;</span><span class="p">:</span> <span class="s2">&quot;sql://Northwind/Orders&quot;</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Currently, only the <a class="reference internal" href="configuration.html#sql-system"><span class="std std-ref">sql system</span></a> and <a class="reference internal" href="configuration.html#sql-source"><span class="std std-ref">source</span></a> is supported
though other short forms may be added at a later time. The above example using the <code class="docutils literal notranslate"><span class="pre">short_config</span></code> form is equivalent
to this fully expanded pipe configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
       <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind&quot;</span><span class="p">,</span>
       <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;system:mysql&quot;</span><span class="p">,</span>
       <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind database&quot;</span><span class="p">,</span>
       <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;northwind&quot;</span><span class="p">,</span>
       <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">,</span>
       <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;mydb.example.org&quot;</span><span class="p">,</span>
       <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
       <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind:Orders&quot;</span><span class="p">,</span>
       <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;pipe&quot;</span><span class="p">,</span>
       <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;sql&quot;</span><span class="p">,</span>
           <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind&quot;</span><span class="p">,</span>
           <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="s2">&quot;Orders&quot;</span>
       <span class="p">},</span>
       <span class="s2">&quot;sink&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;dataset&quot;</span><span class="p">,</span>
           <span class="s2">&quot;dataset&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind:Orders&quot;</span>
       <span class="p">},</span>
       <span class="s2">&quot;pump&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s2">&quot;schedule_interval&quot;</span><span class="p">:</span> <span class="mi">30</span>
       <span class="p">}</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>You can combine the short form with properties from the <a class="reference internal" href="configuration.html#dataset-sink"><span class="std std-ref">dataset sink</span></a>, <a class="reference internal" href="configuration.html#sql-source"><span class="std std-ref">sql source</span></a>
and specific <a class="reference internal" href="configuration.html#pump-section"><span class="std std-ref">pump</span></a> properties, as long as the <code class="docutils literal notranslate"><span class="pre">_id</span></code> and <code class="docutils literal notranslate"><span class="pre">type</span></code> properties aren’t overridden, for example
changing the pump schedule and startup flag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
       <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind&quot;</span><span class="p">,</span>
       <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;system:mysql&quot;</span><span class="p">,</span>
       <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind database&quot;</span><span class="p">,</span>
       <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;northwind&quot;</span><span class="p">,</span>
       <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span><span class="p">,</span>
       <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;mydb.example.org&quot;</span><span class="p">,</span>
       <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
       <span class="s2">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;Northwind:Orders&quot;</span><span class="p">,</span>
       <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;pipe&quot;</span><span class="p">,</span>
       <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Orders from northwind&quot;</span><span class="p">,</span>
       <span class="s2">&quot;short_config&quot;</span><span class="p">:</span> <span class="s2">&quot;sql://Northwind/Orders&quot;</span><span class="p">,</span>
       <span class="s2">&quot;pump&quot;</span><span class="p">:</span> <span class="p">{</span>
           <span class="s2">&quot;schedule_interval&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
           <span class="s2">&quot;run_at_startup&quot;</span><span class="p">:</span> <span class="n">true</span>
       <span class="p">}</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="api.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Service API</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="databrowser.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Databrowser</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022 Sesam.io AS.<br>
</p>
    </div>
    
  </div>
</footer>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZDKEJY06V9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZDKEJY06V9');
</script>
<!-- Start of HubSpot Embed Code -->
  <script type="text/javascript" id="hs-script-loader" async defer src="https://js.hs-scripts.com/19709964.js"></script>
<!-- End of HubSpot Embed Code -->

  </body>
</html>